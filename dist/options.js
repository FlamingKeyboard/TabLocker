/*! For license information please see options.js.LICENSE.txt */
(()=>{var t={992:(t,e,r)=>{var n,o=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function o(t,e){if(!n[t]){n[t]={};for(var r=0;r<t.length;r++)n[t][t.charAt(r)]=r}return n[t][e]}var a={compressToBase64:function(t){if(null==t)return"";var r=a._compress(t,6,(function(t){return e.charAt(t)}));switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:a._decompress(t.length,32,(function(r){return o(e,t.charAt(r))}))},compressToUTF16:function(e){return null==e?"":a._compress(e,15,(function(e){return t(e+32)}))+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:a._decompress(t.length,16384,(function(e){return t.charCodeAt(e)-32}))},compressToUint8Array:function(t){for(var e=a.compress(t),r=new Uint8Array(2*e.length),n=0,o=e.length;n<o;n++){var i=e.charCodeAt(n);r[2*n]=i>>>8,r[2*n+1]=i%256}return r},decompressFromUint8Array:function(e){if(null==e)return a.decompress(e);for(var r=new Array(e.length/2),n=0,o=r.length;n<o;n++)r[n]=256*e[2*n]+e[2*n+1];var i=[];return r.forEach((function(e){i.push(t(e))})),a.decompress(i.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":a._compress(t,6,(function(t){return r.charAt(t)}))},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),a._decompress(t.length,32,(function(e){return o(r,t.charAt(e))})))},compress:function(e){return a._compress(e,16,(function(e){return t(e)}))},_compress:function(t,e,r){if(null==t)return"";var n,o,a,i={},c={},s="",u="",l="",f=2,p=3,h=2,d=[],v=0,y=0;for(a=0;a<t.length;a+=1)if(s=t.charAt(a),Object.prototype.hasOwnProperty.call(i,s)||(i[s]=p++,c[s]=!0),u=l+s,Object.prototype.hasOwnProperty.call(i,u))l=u;else{if(Object.prototype.hasOwnProperty.call(c,l)){if(l.charCodeAt(0)<256){for(n=0;n<h;n++)v<<=1,y==e-1?(y=0,d.push(r(v)),v=0):y++;for(o=l.charCodeAt(0),n=0;n<8;n++)v=v<<1|1&o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o>>=1}else{for(o=1,n=0;n<h;n++)v=v<<1|o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o=0;for(o=l.charCodeAt(0),n=0;n<16;n++)v=v<<1|1&o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o>>=1}0==--f&&(f=Math.pow(2,h),h++),delete c[l]}else for(o=i[l],n=0;n<h;n++)v=v<<1|1&o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o>>=1;0==--f&&(f=Math.pow(2,h),h++),i[u]=p++,l=String(s)}if(""!==l){if(Object.prototype.hasOwnProperty.call(c,l)){if(l.charCodeAt(0)<256){for(n=0;n<h;n++)v<<=1,y==e-1?(y=0,d.push(r(v)),v=0):y++;for(o=l.charCodeAt(0),n=0;n<8;n++)v=v<<1|1&o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o>>=1}else{for(o=1,n=0;n<h;n++)v=v<<1|o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o=0;for(o=l.charCodeAt(0),n=0;n<16;n++)v=v<<1|1&o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o>>=1}0==--f&&(f=Math.pow(2,h),h++),delete c[l]}else for(o=i[l],n=0;n<h;n++)v=v<<1|1&o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o>>=1;0==--f&&(f=Math.pow(2,h),h++)}for(o=2,n=0;n<h;n++)v=v<<1|1&o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o>>=1;for(;;){if(v<<=1,y==e-1){d.push(r(v));break}y++}return d.join("")},decompress:function(t){return null==t?"":""==t?null:a._decompress(t.length,32768,(function(e){return t.charCodeAt(e)}))},_decompress:function(e,r,n){var o,a,i,c,s,u,l,f=[],p=4,h=4,d=3,v="",y=[],g={val:n(0),position:r,index:1};for(o=0;o<3;o+=1)f[o]=o;for(i=0,s=Math.pow(2,2),u=1;u!=s;)c=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),i|=(c>0?1:0)*u,u<<=1;switch(i){case 0:for(i=0,s=Math.pow(2,8),u=1;u!=s;)c=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),i|=(c>0?1:0)*u,u<<=1;l=t(i);break;case 1:for(i=0,s=Math.pow(2,16),u=1;u!=s;)c=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),i|=(c>0?1:0)*u,u<<=1;l=t(i);break;case 2:return""}for(f[3]=l,a=l,y.push(l);;){if(g.index>e)return"";for(i=0,s=Math.pow(2,d),u=1;u!=s;)c=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),i|=(c>0?1:0)*u,u<<=1;switch(l=i){case 0:for(i=0,s=Math.pow(2,8),u=1;u!=s;)c=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),i|=(c>0?1:0)*u,u<<=1;f[h++]=t(i),l=h-1,p--;break;case 1:for(i=0,s=Math.pow(2,16),u=1;u!=s;)c=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),i|=(c>0?1:0)*u,u<<=1;f[h++]=t(i),l=h-1,p--;break;case 2:return y.join("")}if(0==p&&(p=Math.pow(2,d),d++),f[l])v=f[l];else{if(l!==h)return null;v=a+a.charAt(0)}y.push(v),f[h++]=a+v.charAt(0),a=v,0==--p&&(p=Math.pow(2,d),d++)}}};return a}();void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,r),a.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t={};r.r(t);var e,n,o,a,i,c,s,u,l,f,p,h={},d=[],v=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function g(t,e){for(var r in e)t[r]=e[r];return t}function m(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function b(t,r,n){var o,a,i,c={};for(i in r)"key"==i?o=r[i]:"ref"==i?a=r[i]:c[i]=r[i];if(arguments.length>2&&(c.children=arguments.length>3?e.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===c[i]&&(c[i]=t.defaultProps[i]);return w(t,c,o,a,null)}function w(t,e,r,a,i){var c={type:t,props:e,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==i?++o:i,__i:-1,__u:0};return null==i&&null!=n.vnode&&n.vnode(c),c}function x(t){return t.children}function _(t,e){this.props=t,this.context=e}function k(t,e){if(null==e)return t.__?k(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e)return r.__e;return"function"==typeof t.type?k(t):null}function E(t){var e,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return E(t)}}function L(t){(!t.__d&&(t.__d=!0)&&a.push(t)&&!N.__r++||i!==n.debounceRendering)&&((i=n.debounceRendering)||c)(N)}function N(){for(var t,e,r,o,i,c,u,l=1;a.length;)a.length>l&&a.sort(s),t=a.shift(),l=a.length,t.__d&&(r=void 0,i=(o=(e=t).__v).__e,c=[],u=[],e.__P&&((r=g({},o)).__v=o.__v+1,n.vnode&&n.vnode(r),I(e.__P,r,o,e.__n,e.__P.namespaceURI,32&o.__u?[i]:null,c,null==i?k(o):i,!!(32&o.__u),u),r.__v=o.__v,r.__.__k[r.__i]=r,G(c,r,u),r.__e!=i&&E(r)));N.__r=0}function T(t,e,r,n,o,a,i,c,s,u,l){var f,p,v,y,g,m,b=n&&n.__k||d,w=e.length;for(s=S(r,e,b,s,w),f=0;f<w;f++)null!=(v=r.__k[f])&&(p=-1===v.__i?h:b[v.__i]||h,v.__i=f,m=I(t,v,p,o,a,i,c,s,u,l),y=v.__e,v.ref&&p.ref!=v.ref&&(p.ref&&M(p.ref,null,v),l.push(v.ref,v.__c||y,v)),null==g&&null!=y&&(g=y),4&v.__u||p.__k===v.__k?s=O(v,s,t):"function"==typeof v.type&&void 0!==m?s=m:y&&(s=y.nextSibling),v.__u&=-7);return r.__e=g,s}function S(t,e,r,n,o){var a,i,c,s,u,l=r.length,f=l,p=0;for(t.__k=new Array(o),a=0;a<o;a++)null!=(i=e[a])&&"boolean"!=typeof i&&"function"!=typeof i?(s=a+p,(i=t.__k[a]="string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?w(null,i,null,null,null):y(i)?w(x,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?w(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,c=null,-1!==(u=i.__i=j(i,r,s,f))&&(f--,(c=r[u])&&(c.__u|=2)),null==c||null===c.__v?(-1==u&&(o>l?p--:o<l&&p++),"function"!=typeof i.type&&(i.__u|=4)):u!=s&&(u==s-1?p--:u==s+1?p++:(u>s?p--:p++,i.__u|=4))):t.__k[a]=null;if(f)for(a=0;a<l;a++)null!=(c=r[a])&&!(2&c.__u)&&(c.__e==n&&(n=k(c)),U(c,c));return n}function O(t,e,r){var n,o;if("function"==typeof t.type){for(n=t.__k,o=0;n&&o<n.length;o++)n[o]&&(n[o].__=t,e=O(n[o],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=k(t)),r.insertBefore(t.__e,e||null),e=t.__e);do{e=e&&e.nextSibling}while(null!=e&&8==e.nodeType);return e}function j(t,e,r,n){var o,a,i=t.key,c=t.type,s=e[r];if(null===s&&null==t.key||s&&i==s.key&&c===s.type&&!(2&s.__u))return r;if(n>(null==s||2&s.__u?0:1))for(o=r-1,a=r+1;o>=0||a<e.length;){if(o>=0){if((s=e[o])&&!(2&s.__u)&&i==s.key&&c===s.type)return o;o--}if(a<e.length){if((s=e[a])&&!(2&s.__u)&&i==s.key&&c===s.type)return a;a++}}return-1}function P(t,e,r){"-"==e[0]?t.setProperty(e,null==r?"":r):t[e]=null==r?"":"number"!=typeof r||v.test(e)?r:r+"px"}function C(t,e,r,n,o){var a;t:if("style"==e)if("string"==typeof r)t.style.cssText=r;else{if("string"==typeof n&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||P(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||P(t.style,e,r[e])}else if("o"==e[0]&&"n"==e[1])a=e!=(e=e.replace(u,"$1")),e=e.toLowerCase()in t||"onFocusOut"==e||"onFocusIn"==e?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=r,r?n?r.t=n.t:(r.t=l,t.addEventListener(e,a?p:f,a)):t.removeEventListener(e,a?p:f,a);else{if("http://www.w3.org/2000/svg"==o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=e&&"height"!=e&&"href"!=e&&"list"!=e&&"form"!=e&&"tabIndex"!=e&&"download"!=e&&"rowSpan"!=e&&"colSpan"!=e&&"role"!=e&&"popover"!=e&&e in t)try{t[e]=null==r?"":r;break t}catch(t){}"function"==typeof r||(null==r||!1===r&&"-"!=e[4]?t.removeAttribute(e):t.setAttribute(e,"popover"==e&&1==r?"":r))}}function A(t){return function(e){if(this.l){var r=this.l[e.type+t];if(null==e.u)e.u=l++;else if(e.u<r.t)return;return r(n.event?n.event(e):e)}}}function I(t,e,r,o,a,i,c,s,u,l){var f,p,h,d,v,b,w,k,E,L,N,S,O,j,P,C,A,I=e.type;if(void 0!==e.constructor)return null;128&r.__u&&(u=!!(32&r.__u),i=[s=e.__e=r.__e]),(f=n.__b)&&f(e);t:if("function"==typeof I)try{if(k=e.props,E="prototype"in I&&I.prototype.render,L=(f=I.contextType)&&o[f.__c],N=f?L?L.props.value:f.__:o,r.__c?w=(p=e.__c=r.__c).__=p.__E:(E?e.__c=p=new I(k,N):(e.__c=p=new _(k,N),p.constructor=I,p.render=B),L&&L.sub(p),p.props=k,p.state||(p.state={}),p.context=N,p.__n=o,h=p.__d=!0,p.__h=[],p._sb=[]),E&&null==p.__s&&(p.__s=p.state),E&&null!=I.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=g({},p.__s)),g(p.__s,I.getDerivedStateFromProps(k,p.__s))),d=p.props,v=p.state,p.__v=e,h)E&&null==I.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),E&&null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(E&&null==I.getDerivedStateFromProps&&k!==d&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(k,N),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(k,p.__s,N)||e.__v==r.__v)){for(e.__v!=r.__v&&(p.props=k,p.state=p.__s,p.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some((function(t){t&&(t.__=e)})),S=0;S<p._sb.length;S++)p.__h.push(p._sb[S]);p._sb=[],p.__h.length&&c.push(p);break t}null!=p.componentWillUpdate&&p.componentWillUpdate(k,p.__s,N),E&&null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(d,v,b)}))}if(p.context=N,p.props=k,p.__P=t,p.__e=!1,O=n.__r,j=0,E){for(p.state=p.__s,p.__d=!1,O&&O(e),f=p.render(p.props,p.state,p.context),P=0;P<p._sb.length;P++)p.__h.push(p._sb[P]);p._sb=[]}else do{p.__d=!1,O&&O(e),f=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++j<25);p.state=p.__s,null!=p.getChildContext&&(o=g(g({},o),p.getChildContext())),E&&!h&&null!=p.getSnapshotBeforeUpdate&&(b=p.getSnapshotBeforeUpdate(d,v)),C=f,null!=f&&f.type===x&&null==f.key&&(C=D(f.props.children)),s=T(t,y(C)?C:[C],e,r,o,a,i,c,s,u,l),p.base=e.__e,e.__u&=-161,p.__h.length&&c.push(p),w&&(p.__E=p.__=null)}catch(t){if(e.__v=null,u||null!=i)if(t.then){for(e.__u|=u?160:128;s&&8==s.nodeType&&s.nextSibling;)s=s.nextSibling;i[i.indexOf(s)]=null,e.__e=s}else for(A=i.length;A--;)m(i[A]);else e.__e=r.__e,e.__k=r.__k;n.__e(t,e,r)}else null==i&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):s=e.__e=F(r.__e,e,r,o,a,i,c,u,l);return(f=n.diffed)&&f(e),128&e.__u?void 0:s}function G(t,e,r){for(var o=0;o<r.length;o++)M(r[o],r[++o],r[++o]);n.__c&&n.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){n.__e(t,e.__v)}}))}function D(t){return"object"!=typeof t||null==t?t:y(t)?t.map(D):g({},t)}function F(t,r,o,a,i,c,s,u,l){var f,p,d,v,g,b,w,x=o.props,_=r.props,E=r.type;if("svg"==E?i="http://www.w3.org/2000/svg":"math"==E?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=c)for(f=0;f<c.length;f++)if((g=c[f])&&"setAttribute"in g==!!E&&(E?g.localName==E:3==g.nodeType)){t=g,c[f]=null;break}if(null==t){if(null==E)return document.createTextNode(_);t=document.createElementNS(i,E,_.is&&_),u&&(n.__m&&n.__m(r,c),u=!1),c=null}if(null===E)x===_||u&&t.data===_||(t.data=_);else{if(c=c&&e.call(t.childNodes),x=o.props||h,!u&&null!=c)for(x={},f=0;f<t.attributes.length;f++)x[(g=t.attributes[f]).name]=g.value;for(f in x)if(g=x[f],"children"==f);else if("dangerouslySetInnerHTML"==f)d=g;else if(!(f in _)){if("value"==f&&"defaultValue"in _||"checked"==f&&"defaultChecked"in _)continue;C(t,f,null,g,i)}for(f in _)g=_[f],"children"==f?v=g:"dangerouslySetInnerHTML"==f?p=g:"value"==f?b=g:"checked"==f?w=g:u&&"function"!=typeof g||x[f]===g||C(t,f,g,x[f],i);if(p)u||d&&(p.__html===d.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),r.__k=[];else if(d&&(t.innerHTML=""),T("template"===r.type?t.content:t,y(v)?v:[v],r,o,a,"foreignObject"==E?"http://www.w3.org/1999/xhtml":i,c,s,c?c[0]:o.__k&&k(o,0),u,l),null!=c)for(f=c.length;f--;)m(c[f]);u||(f="value","progress"==E&&null==b?t.removeAttribute("value"):void 0!==b&&(b!==t[f]||"progress"==E&&!b||"option"==E&&b!==x[f])&&C(t,f,b,x[f],i),f="checked",void 0!==w&&w!==t[f]&&C(t,f,w,x[f],i))}return t}function M(t,e,r){try{if("function"==typeof t){var o="function"==typeof t.__u;o&&t.__u(),o&&null==e||(t.__u=t(e))}else t.current=e}catch(t){n.__e(t,r)}}function U(t,e,r){var o,a;if(n.unmount&&n.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||M(o,null,e)),null!=(o=t.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(t){n.__e(t,e)}o.base=o.__P=null}if(o=t.__k)for(a=0;a<o.length;a++)o[a]&&U(o[a],e,r||"function"!=typeof t.type);r||m(t.__e),t.__c=t.__=t.__e=void 0}function B(t,e,r){return this.constructor(t,r)}e=d.slice,n={__e:function(t,e,r,n){for(var o,a,i;e=e.__;)if((o=e.__c)&&!o.__)try{if((a=o.constructor)&&null!=a.getDerivedStateFromError&&(o.setState(a.getDerivedStateFromError(t)),i=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(t,n||{}),i=o.__d),i)return o.__E=o}catch(e){t=e}throw t}},o=0,_.prototype.setState=function(t,e){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=g({},this.state),"function"==typeof t&&(t=t(g({},r),this.props)),t&&g(r,t),null!=t&&this.__v&&(e&&this._sb.push(e),L(this))},_.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),L(this))},_.prototype.render=x,a=[],c="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,s=function(t,e){return t.__v.__b-e.__v.__b},N.__r=0,u=/(PointerCapture)$|Capture$/i,l=0,f=A(!1),p=A(!0);var W,R,H,q,z=0,V=[],K=n,Y=K.__b,J=K.__r,$=K.diffed,Q=K.__c,X=K.unmount,Z=K.__;function tt(t,e){K.__h&&K.__h(R,t,z||e),z=0;var r=R.__H||(R.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function et(t){return z=1,function(t,e){var r=tt(W++,2);if(r.t=t,!r.__c&&(r.__=[lt(void 0,e),function(t){var e=r.__N?r.__N[0]:r.__[0],n=r.t(e,t);e!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=R,!R.__f)){var n=function(t,e,n){if(!r.__c.__H)return!0;var a=r.__c.__H.__.filter((function(t){return!!t.__c}));if(a.every((function(t){return!t.__N})))return!o||o.call(this,t,e,n);var i=r.__c.props!==t;return a.forEach((function(t){if(t.__N){var e=t.__[0];t.__=t.__N,t.__N=void 0,e!==t.__[0]&&(i=!0)}})),o&&o.call(this,t,e,n)||i};R.__f=!0;var o=R.shouldComponentUpdate,a=R.componentWillUpdate;R.componentWillUpdate=function(t,e,r){if(this.__e){var i=o;o=void 0,n(t,e,r),o=i}a&&a.call(this,t,e,r)},R.shouldComponentUpdate=n}return r.__N||r.__}(lt,t)}function rt(t,e){var r=tt(W++,3);!K.__s&&ut(r.__H,e)&&(r.__=t,r.u=e,R.__H.__h.push(r))}function nt(t){return z=5,function(t,e){var r=tt(W++,7);return ut(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}((function(){return{current:t}}),[])}function ot(){for(var t;t=V.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ct),t.__H.__h.forEach(st),t.__H.__h=[]}catch(e){t.__H.__h=[],K.__e(e,t.__v)}}K.__b=function(t){R=null,Y&&Y(t)},K.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Z&&Z(t,e)},K.__r=function(t){J&&J(t),W=0;var e=(R=t.__c).__H;e&&(H===R?(e.__h=[],R.__h=[],e.__.forEach((function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0}))):(e.__h.forEach(ct),e.__h.forEach(st),e.__h=[],W=0)),H=R},K.diffed=function(t){$&&$(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==V.push(e)&&q===K.requestAnimationFrame||((q=K.requestAnimationFrame)||it)(ot)),e.__H.__.forEach((function(t){t.u&&(t.__H=t.u),t.u=void 0}))),H=R=null},K.__c=function(t,e){e.some((function(t){try{t.__h.forEach(ct),t.__h=t.__h.filter((function(t){return!t.__||st(t)}))}catch(r){e.some((function(t){t.__h&&(t.__h=[])})),e=[],K.__e(r,t.__v)}})),Q&&Q(t,e)},K.unmount=function(t){X&&X(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach((function(t){try{ct(t)}catch(t){e=t}})),r.__H=void 0,e&&K.__e(e,r.__v))};var at="function"==typeof requestAnimationFrame;function it(t){var e,r=function(){clearTimeout(n),at&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);at&&(e=requestAnimationFrame(r))}function ct(t){var e=R,r=t.__c;"function"==typeof r&&(t.__c=void 0,r()),R=e}function st(t){var e=R;t.__c=t.__(),R=e}function ut(t,e){return!t||t.length!==e.length||e.some((function(e,r){return e!==t[r]}))}function lt(t,e){return"function"==typeof e?e(t):e}var ft=r(992),pt=r.n(ft);function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function dt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vt(n.key),n)}}function vt(t){var e=function(t){if("object"!=ht(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ht(e)?e:e+""}var yt=function(){return function(t,e){return e&&dt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),[{key:"compress",value:function(t){var e="object"===ht(t)?JSON.stringify(t):String(t);return pt().compressToUTF16(e)}},{key:"decompress",value:function(t){var e=pt().decompressFromUTF16(t);if(!e)return null;try{return JSON.parse(e)}catch(t){return e}}},{key:"compressToBase64",value:function(t){var e="object"===ht(t)?JSON.stringify(t):String(t);return pt().compressToBase64(e)}},{key:"decompressFromBase64",value:function(t){var e=pt().decompressFromBase64(t);if(!e)return null;try{return JSON.parse(e)}catch(t){return e}}}])}();const gt=yt;function mt(t){return function(t){if(Array.isArray(t))return bt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return bt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function wt(t){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(t)}function xt(){xt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,i=Object.create(a.prototype),c=new j(n||[]);return o(i,"_invoke",{value:N(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};u(w,i,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(P([])));_&&_!==r&&n.call(_,i)&&(w=_);var k=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,i,c){var s=f(t[o],t,a);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==wt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(l).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function N(e,r,n){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=T(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?v:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(wt(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},E(L.prototype),u(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(k),u(k,s,"Generator"),u(k,i,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function _t(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function kt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){_t(a,n,o,i,c,"next",t)}function c(t){_t(a,n,o,i,c,"throw",t)}i(void 0)}))}}function Et(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lt(n.key),n)}}function Lt(t){var e=function(t){if("object"!=wt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==wt(e)?e:e+""}var Nt=function(){return function(t,e){return e&&Et(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.password=e,this.algorithm={name:"AES-GCM",length:256},this.ivLength=12,this.saltLength=16,this.iterations=1e5,this.cryptoObj=globalThis.crypto}),[{key:"setPassword",value:function(t){this.password=t}},{key:"deriveKey",value:(a=kt(xt().mark((function t(e,r){var n,o;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new TextEncoder,t.next=3,this.cryptoObj.subtle.importKey("raw",n.encode(e),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);case 3:return o=t.sent,t.abrupt("return",this.cryptoObj.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:this.iterations,hash:"SHA-256"},o,this.algorithm,!1,["encrypt","decrypt"]));case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})},{key:"generateKey",value:(o=kt(xt().mark((function t(){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.cryptoObj.subtle.generateKey(this.algorithm,!0,["encrypt","decrypt"]));case 1:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"exportKey",value:(n=kt(xt().mark((function t(e){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.cryptoObj.subtle.exportKey("raw",e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"importKey",value:(r=kt(xt().mark((function t(e){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.cryptoObj.subtle.importKey("raw",e,this.algorithm,!1,["encrypt","decrypt"]));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"encrypt",value:(e=kt(xt().mark((function t(e){var r,n,o,a,i,c,s,u,l,f=arguments;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(f.length>1&&void 0!==f[1]?f[1]:null)||this.password){t.next=4;break}throw new Error("No password set for encryption");case 4:return n=this.cryptoObj.getRandomValues(new Uint8Array(this.saltLength)),o=this.cryptoObj.getRandomValues(new Uint8Array(this.ivLength)),t.next=8,this.deriveKey(r,n);case 8:return a=t.sent,i=new TextEncoder,c="object"===wt(e)?JSON.stringify(e):String(e),s=i.encode(c),t.next=14,this.cryptoObj.subtle.encrypt({name:"AES-GCM",iv:o},a,s);case 14:return u=t.sent,(l=new Uint8Array(n.length+o.length+u.byteLength)).set(n,0),l.set(o,n.length),l.set(new Uint8Array(u),n.length+o.length),t.abrupt("return",btoa(String.fromCharCode.apply(String,mt(l))));case 20:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"decrypt",value:(t=kt(xt().mark((function t(e){var r,n,o,a,i,c,s,u,l,f=arguments;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(f.length>1&&void 0!==f[1]?f[1]:null)||this.password){t.next=4;break}throw new Error("No password set for decryption");case 4:if(t.prev=4,e&&"string"==typeof e){t.next=7;break}throw new Error("Invalid encrypted data format");case 7:t.prev=7,n=Uint8Array.from(atob(e),(function(t){return t.charCodeAt(0)})),t.next=15;break;case 11:throw t.prev=11,t.t0=t.catch(7),console.error("Error decoding Base64:",t.t0),new Error("Invalid Base64 data format");case 15:if(!(n.length<=this.saltLength+this.ivLength)){t.next=17;break}throw new Error("Encrypted data is too short");case 17:return o=n.slice(0,this.saltLength),a=n.slice(this.saltLength,this.saltLength+this.ivLength),i=n.slice(this.saltLength+this.ivLength),t.next=22,this.deriveKey(r,o);case 22:return c=t.sent,t.prev=23,t.next=26,this.cryptoObj.subtle.decrypt({name:"AES-GCM",iv:a},c,i);case 26:return s=t.sent,u=new TextDecoder,l=u.decode(s),t.prev=29,t.abrupt("return",JSON.parse(l));case 33:return t.prev=33,t.t1=t.catch(29),t.abrupt("return",l);case 36:t.next=42;break;case 38:throw t.prev=38,t.t2=t.catch(23),console.error("WebCrypto decryption failed:",t.t2),new Error("Decryption failed: Incorrect password or corrupted data");case 42:t.next=48;break;case 44:throw t.prev=44,t.t3=t.catch(4),console.error("Decryption error:",t.t3),t.t3;case 48:case"end":return t.stop()}}),t,this,[[4,44],[7,11],[23,38],[29,33]])}))),function(e){return t.apply(this,arguments)})}]);var t,e,r,n,o,a}();const Tt=Nt;function St(t){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St(t)}function Ot(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return jt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(r),!0).forEach((function(e){At(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function At(t,e,r){return(e=Mt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function It(){It=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,i=Object.create(a.prototype),c=new j(n||[]);return o(i,"_invoke",{value:N(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};u(w,i,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(P([])));_&&_!==r&&n.call(_,i)&&(w=_);var k=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,i,c){var s=f(t[o],t,a);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==St(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(l).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function N(e,r,n){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=T(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?v:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(St(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},E(L.prototype),u(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(k),u(k,s,"Generator"),u(k,i,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Gt(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Dt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Gt(a,n,o,i,c,"next",t)}function c(t){Gt(a,n,o,i,c,"throw",t)}i(void 0)}))}}function Ft(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mt(n.key),n)}}function Mt(t){var e=function(t){if("object"!=St(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=St(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==St(e)?e:e+""}var Ut=function(){return function(t,e){return e&&Ft(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dbName="TabLockerDB",this.dbVersion=3,this.db=null,this.isReady=!1,this.compressionService=new gt,this.encryptionService=new Tt(e),this.initializeDB()}),[{key:"setPassword",value:function(t){this.encryptionService.setPassword(t)}},{key:"initializeDB",value:(b=Dt(It().mark((function t(){var e=this;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var n=indexedDB.open(e.dbName,e.dbVersion);n.onupgradeneeded=function(t){var e=t.target.result,r=t.oldVersion;if(!e.objectStoreNames.contains("tabGroups")){var o=e.createObjectStore("tabGroups",{keyPath:"id"});o.createIndex("created","created",{unique:!1}),o.createIndex("name","name",{unique:!1}),o.createIndex("orderIndex","orderIndex",{unique:!1})}if(e.objectStoreNames.contains("settings")||e.createObjectStore("settings",{keyPath:"key"}),r<3){if(!e.objectStoreNames.contains("tags")){var a=e.createObjectStore("tags",{keyPath:"id"});a.createIndex("name","name",{unique:!0}),a.createIndex("created","created",{unique:!1})}var i=n.transaction.objectStore("tabGroups");i.indexNames.contains("tags")||i.createIndex("tags","tags",{unique:!1,multiEntry:!0})}},n.onsuccess=function(r){e.db=r.target.result,e.isReady=!0,t(e.db)},n.onerror=function(t){console.error("Error opening IndexedDB:",t.target.error),r(t.target.error)}})));case 1:case"end":return t.stop()}}),t)}))),function(){return b.apply(this,arguments)})},{key:"ensureDBReady",value:(m=Dt(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isReady||!this.db){t.next=2;break}return t.abrupt("return",this.db);case 2:return t.abrupt("return",this.initializeDB());case 3:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"transaction",value:(g=Dt(It().mark((function t(e,r,n){var o=this;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ensureDBReady();case 2:return t.abrupt("return",new Promise((function(t,a){var i=o.db.transaction(e,r),c=i.objectStore(e);i.oncomplete=function(){return t()},i.onerror=function(t){return a(t.target.error)};var s=n(c);s&&(s.onsuccess=function(e){return t(e.target.result)},s.onerror=function(t){return a(t.target.error)})})));case 3:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return g.apply(this,arguments)})},{key:"saveTabGroup",value:(y=Dt(It().mark((function t(e){var r,n,o,a;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.id||(e.id=crypto.randomUUID()),e.created||(e.created=Date.now()),e.name||(e.name="Tabs from ".concat(new Date(e.created).toLocaleString())),(r=JSON.parse(JSON.stringify(e))).tabs&&Array.isArray(r.tabs)){t.next=8;break}throw console.error("No tabs array found in tab group:",r),new Error("No tabs to save");case 8:if(n=JSON.stringify(r.tabs),o=this.compressionService.compress(n),this.encryptionService.password){t.next=19;break}return t.next=13,chrome.storage.local.get("password");case 13:if(!(a=t.sent).password){t.next=18;break}this.setPassword(a.password),t.next=19;break;case 18:throw new Error("No password set for encryption");case 19:return t.next=21,this.encryptionService.encrypt(o);case 21:return r.encryptedTabs=t.sent,delete r.tabs,t.next=25,this.transaction("tabGroups","readwrite",(function(t){return t.put(r)}));case 25:return console.log("Successfully saved tab group with ID: ".concat(r.id),r),t.abrupt("return",r.id);case 29:throw t.prev=29,t.t0=t.catch(0),console.error("Error saving tab group:",t.t0),new Error("Failed to save tabs: ".concat(t.t0.message));case 33:case"end":return t.stop()}}),t,this,[[0,29]])}))),function(t){return y.apply(this,arguments)})},{key:"getTabGroup",value:(v=Dt(It().mark((function t(e){var r,n,o,a;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.transaction("tabGroups","readonly",(function(t){return t.get(e)}));case 3:if(r=t.sent){t.next=6;break}return t.abrupt("return",null);case 6:if(this.encryptionService.password){t.next=15;break}return t.next=9,chrome.storage.local.get("password");case 9:if(!(n=t.sent).password){t.next=14;break}this.setPassword(n.password),t.next=15;break;case 14:throw new Error("No password set for decryption");case 15:if(!r.encryptedTabs){t.next=46;break}return t.prev=16,t.next=19,this.encryptionService.decrypt(r.encryptedTabs);case 19:if(o=t.sent){t.next=22;break}throw new Error("Failed to decrypt tab data");case 22:if(a=this.compressionService.decompress(o)){t.next=25;break}throw new Error("Failed to decompress tab data");case 25:if("string"!=typeof a){t.next=36;break}t.prev=26,r.tabs=JSON.parse(a),t.next=34;break;case 30:throw t.prev=30,t.t0=t.catch(26),console.error("Error parsing decompressed tabs:",t.t0),new Error("Invalid tab data format");case 34:t.next=37;break;case 36:r.tabs=a;case 37:return t.abrupt("return",r);case 40:throw t.prev=40,t.t1=t.catch(16),console.error("Error decrypting tab group:",t.t1),new Error("Unable to decrypt tab group: ".concat(t.t1.message));case 44:t.next=47;break;case 46:throw new Error("No encrypted tab data found");case 47:t.next=53;break;case 49:throw t.prev=49,t.t2=t.catch(0),console.error("Error retrieving tab group:",t.t2),new Error("Failed to retrieve tab group: ".concat(t.t2.message));case 53:case"end":return t.stop()}}),t,this,[[0,49],[16,40],[26,30]])}))),function(t){return v.apply(this,arguments)})},{key:"getAllTabGroups",value:(d=Dt(It().mark((function t(){var e=this;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Dt(It().mark((function t(r,n){var o,a,i,c;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ensureDBReady();case 2:o=e.db.transaction("tabGroups","readonly"),a=o.objectStore("tabGroups"),i=a.index("created").openCursor(null,"prev"),c=[],i.onsuccess=function(t){var e=t.target.result;if(e){var n=Ct({},e.value);delete n.encryptedTabs,c.push(n),e.continue()}else{var o=c.sort((function(t,e){return void 0!==t.orderIndex&&void 0!==e.orderIndex?t.orderIndex-e.orderIndex:void 0!==t.orderIndex?-1:void 0!==e.orderIndex?1:e.created-t.created}));r(o)}},i.onerror=function(t){n(t.target.error)};case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)}))),function(){return d.apply(this,arguments)})},{key:"deleteTabGroup",value:(h=Dt(It().mark((function t(e){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.transaction("tabGroups","readwrite",(function(t){return t.delete(e)})));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"updateTabGroup",value:(p=Dt(It().mark((function t(e,r){var n;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getTabGroup(e);case 2:if(n=t.sent){t.next=5;break}throw new Error("Tab group not found");case 5:return Object.assign(n,r),t.abrupt("return",this.saveTabGroup(n));case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return p.apply(this,arguments)})},{key:"searchTabGroups",value:(f=Dt(It().mark((function t(e){var r,n,o,a,i,c,s,u,l,f,p,h,d,v,y,g,m,b,w,x,_,k,E,L,N,T,S,O,j,P;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("=== SEARCH DEBUG START ==="),console.log('Raw search query: "'.concat(e,'"')),e&&""!==e.trim()){t.next=5;break}return console.log("Empty query - returning all tab groups"),t.abrupt("return",this.getAllTabGroups());case 5:return t.next=7,this.getAllTabGroups();case 7:r=t.sent,console.log("Total groups to search: ".concat(r.length)),r.length>0&&console.log("Sample group structure:",JSON.stringify(r[0],null,2)),n=e.toLowerCase().trim(),console.log('Normalized search query: "'.concat(n,'"')),o=[],a=Ot(r);try{for(a.s();!(i=a.n()).done;)c=i.value,s=!1,u="",c.name&&-1!==c.name.toLowerCase().indexOf(n)&&(s=!0,u='Group name match: "'.concat(c.name,'" contains "').concat(n,'"')),!s&&c.created&&(l=new Date(c.created).toLocaleString().toLowerCase(),console.log("Group ".concat(c.id,' date string: "').concat(l,'"')),-1!==l.indexOf(n)&&(s=!0,u='Date/time match: "'.concat(l,'" contains "').concat(n,'"'))),s?(o.push(Ct(Ct({},c),{},{tabCount:c.tabCount||0,_matchReason:u,matchInfo:{field:c.name&&-1!==c.name.toLowerCase().indexOf(n)?"name":"date",text:c.name&&-1!==c.name.toLowerCase().indexOf(n)?c.name:new Date(c.created).toLocaleString(),query:n}})),console.log(" Metadata match for group ".concat(c.id,": ").concat(u))):console.log(" No metadata match for group ".concat(c.id))}catch(t){a.e(t)}finally{a.f()}console.log("Metadata matches found: ".concat(o.length)),f=r.filter((function(t){return!o.some((function(e){return e.id===t.id}))})).map((function(t){return t.id})),console.log("Groups to search in tab content: ".concat(f.length)),p=[],h=Ot(f),t.prev=20,h.s();case 22:if((d=h.n()).done){t.next=98;break}return v=d.value,t.prev=24,console.log("Searching inside tab content for group ".concat(v,"...")),t.next=28,this.getTabGroup(v);case 28:if(y=t.sent){t.next=32;break}return console.log("Group ".concat(v," not found")),t.abrupt("continue",96);case 32:if(y.tabs){t.next=35;break}return console.log("Group ".concat(v," has no tabs array")),t.abrupt("continue",96);case 35:console.log("Group ".concat(v," has ").concat(y.tabs.length," tabs to search")),g=y.tabs.length,m=!1,b="",w=0;case 40:if(!(w<y.tabs.length)){t.next=60;break}if(!(x=y.tabs[w]).title||-1===x.title.toLowerCase().indexOf(n)){t.next=46;break}return m=!0,b="Tab ".concat(w,' title match: "').concat(x.title,'" contains "').concat(n,'"'),t.abrupt("break",60);case 46:if(!x.url||-1===x.url.toLowerCase().indexOf(n)){t.next=50;break}return m=!0,b="Tab ".concat(w,' URL match: "').concat(x.url,'" contains "').concat(n,'"'),t.abrupt("break",60);case 50:if(!x.savedAt){t.next=57;break}if(_=new Date(x.savedAt).toLocaleString().toLowerCase(),console.log("Tab ".concat(w,' date string: "').concat(_,'"')),-1===_.indexOf(n)){t.next=57;break}return m=!0,b="Tab ".concat(w,' date match: "').concat(_,'" contains "').concat(n,'"'),t.abrupt("break",60);case 57:w++,t.next=40;break;case 60:if(!m){t.next=90;break}k="",E="",L=0;case 64:if(!(L<y.tabs.length)){t.next=85;break}if(!(N=y.tabs[L]).title||-1===N.title.toLowerCase().indexOf(n)){t.next=72;break}return k="title",E=N.title,t.abrupt("break",85);case 72:if(!N.url||-1===N.url.toLowerCase().indexOf(n)){t.next=78;break}return k="url",E=N.url,t.abrupt("break",85);case 78:if(!N.savedAt||-1===new Date(N.savedAt).toLocaleString().toLowerCase().indexOf(n)){t.next=82;break}return k="date",E=new Date(N.savedAt).toLocaleString(),t.abrupt("break",85);case 82:L++,t.next=64;break;case 85:T={id:y.id,name:y.name,created:y.created,orderIndex:y.orderIndex,tabCount:g,_matchReason:b,matchInfo:{field:k,text:E,query:n}},p.push(T),console.log(" Content match for group ".concat(v,": ").concat(b)),t.next=91;break;case 90:console.log(" No content match for group ".concat(v));case 91:t.next=96;break;case 93:t.prev=93,t.t0=t.catch(24),console.error("Error searching tab group ".concat(v,":"),t.t0);case 96:t.next=22;break;case 98:t.next=103;break;case 100:t.prev=100,t.t1=t.catch(20),h.e(t.t1);case 103:return t.prev=103,h.f(),t.finish(103);case 106:console.log("Content matches found: ".concat(p.length)),S=[].concat(o),O=It().mark((function t(){var e;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=P[j],S.some((function(t){return t.id===e.id}))||S.push(e);case 2:case"end":return t.stop()}}),t)})),j=0,P=p;case 110:if(!(j<P.length)){t.next=115;break}return t.delegateYield(O(),"t2",112);case 112:j++,t.next=110;break;case 115:return console.log("Total matches after deduplication: ".concat(S.length)),console.log("Search results:",S),console.log("=== SEARCH DEBUG END ==="),t.abrupt("return",S);case 119:case"end":return t.stop()}}),t,this,[[20,100,103,106],[24,93]])}))),function(t){return f.apply(this,arguments)})},{key:"saveSetting",value:(l=Dt(It().mark((function t(e,r){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.transaction("settings","readwrite",(function(t){return t.put({key:e,value:r})})));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return l.apply(this,arguments)})},{key:"getSetting",value:(u=Dt(It().mark((function t(e){var r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.transaction("settings","readonly",(function(t){return t.get(e)}));case 2:return r=t.sent,t.abrupt("return",r?r.value:null);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"clearAllData",value:(s=Dt(It().mark((function t(){var e;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ensureDBReady();case 2:return(e=this.db.transaction(["tabGroups","settings","tags"],"readwrite")).objectStore("tabGroups").clear(),e.objectStore("settings").clear(),e.objectStore("tags").clear(),t.abrupt("return",new Promise((function(t,r){e.oncomplete=function(){return t()},e.onerror=function(t){return r(t.target.error)}})));case 7:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"createTag",value:(c=Dt(It().mark((function t(e){var r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.id||(e.id=crypto.randomUUID()),e.created||(e.created=Date.now()),e.name&&"string"==typeof e.name&&""!==e.name.trim()){t.next=5;break}throw new Error("Tag must have a valid name");case 5:return r={id:e.id,name:e.name.trim(),created:e.created,color:e.color||null},t.next=8,this.transaction("tags","readwrite",(function(t){return t.put(r)}));case 8:return console.log("Successfully created tag with ID: ".concat(r.id),r),t.abrupt("return",r.id);case 12:throw t.prev=12,t.t0=t.catch(0),console.error("Error creating tag:",t.t0),new Error("Failed to create tag: ".concat(t.t0.message));case 16:case"end":return t.stop()}}),t,this,[[0,12]])}))),function(t){return c.apply(this,arguments)})},{key:"getAllTags",value:(i=Dt(It().mark((function t(){var e=this;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Dt(It().mark((function t(r,n){var o,a,i,c;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ensureDBReady();case 2:o=e.db.transaction("tags","readonly"),a=o.objectStore("tags"),i=a.index("name").openCursor(),c=[],i.onsuccess=function(t){var e=t.target.result;e?(c.push(e.value),e.continue()):r(c)},i.onerror=function(t){n(t.target.error)};case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"getTag",value:(a=Dt(It().mark((function t(e){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.transaction("tags","readonly",(function(t){return t.get(e)})));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"updateTag",value:(o=Dt(It().mark((function t(e,r){var n,o;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getTag(e);case 2:if(n=t.sent){t.next=5;break}throw new Error("Tag not found");case 5:if(!r.name||"string"==typeof r.name&&""!==r.name.trim()){t.next=7;break}throw new Error("Tag name cannot be empty");case 7:return o=Ct(Ct({},n),r),r.name&&(o.name=r.name.trim()),t.abrupt("return",this.transaction("tags","readwrite",(function(t){return t.put(o)})));case 10:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})},{key:"deleteTag",value:(n=Dt(It().mark((function t(e){var r,n,o,a,i;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getAllTabGroups();case 3:r=t.sent,n=Ot(r),t.prev=5,n.s();case 7:if((o=n.n()).done){t.next=18;break}if(!(a=o.value).tags||!a.tags.includes(e)){t.next=16;break}return t.next=12,this.getTabGroup(a.id);case 12:return(i=t.sent).tags=i.tags.filter((function(t){return t!==e})),t.next=16,this.saveTabGroup(i);case 16:t.next=7;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(5),n.e(t.t0);case 23:return t.prev=23,n.f(),t.finish(23);case 26:return t.abrupt("return",this.transaction("tags","readwrite",(function(t){return t.delete(e)})));case 29:throw t.prev=29,t.t1=t.catch(0),console.error("Error deleting tag:",t.t1),new Error("Failed to delete tag: ".concat(t.t1.message));case 33:case"end":return t.stop()}}),t,this,[[0,29],[5,20,23,26]])}))),function(t){return n.apply(this,arguments)})},{key:"addTagsToGroup",value:(r=Dt(It().mark((function t(e,r){var n,o,a,i,c,s,u,l,f;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,n=Array.isArray(r)?r:[r],o=Ot(n),t.prev=3,o.s();case 5:if((a=o.n()).done){t.next=14;break}return i=a.value,t.next=9,this.getTag(i);case 9:if(t.sent){t.next=12;break}throw new Error("Tag with ID ".concat(i," does not exist"));case 12:t.next=5;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),o.e(t.t0);case 19:return t.prev=19,o.f(),t.finish(19);case 22:return t.next=24,this.getTabGroup(e);case 24:if(c=t.sent){t.next=27;break}throw new Error("Tab group with ID ".concat(e," not found"));case 27:c.tags||(c.tags=[]),s=!1,u=Ot(n);try{for(u.s();!(l=u.n()).done;)f=l.value,c.tags.includes(f)||(c.tags.push(f),s=!0)}catch(t){u.e(t)}finally{u.f()}if(!s){t.next=34;break}return t.next=34,this.saveTabGroup(c);case 34:return t.abrupt("return",c.tags);case 37:throw t.prev=37,t.t1=t.catch(0),console.error("Error adding tags to group:",t.t1),new Error("Failed to add tags: ".concat(t.t1.message));case 41:case"end":return t.stop()}}),t,this,[[0,37],[3,16,19,22]])}))),function(t,e){return r.apply(this,arguments)})},{key:"removeTagsFromGroup",value:(e=Dt(It().mark((function t(e,r){var n,o,a;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=Array.isArray(r)?r:[r],t.next=4,this.getTabGroup(e);case 4:if(o=t.sent){t.next=7;break}throw new Error("Tab group with ID ".concat(e," not found"));case 7:if(o.tags&&0!==o.tags.length){t.next=9;break}return t.abrupt("return",[]);case 9:if(a=o.tags.length,o.tags=o.tags.filter((function(t){return!n.includes(t)})),o.tags.length===a){t.next=14;break}return t.next=14,this.saveTabGroup(o);case 14:return t.abrupt("return",o.tags);case 17:throw t.prev=17,t.t0=t.catch(0),console.error("Error removing tags from group:",t.t0),new Error("Failed to remove tags: ".concat(t.t0.message));case 21:case"end":return t.stop()}}),t,this,[[0,17]])}))),function(t,r){return e.apply(this,arguments)})},{key:"getGroupsByTags",value:(t=Dt(It().mark((function t(e){var r,n;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Array.isArray(e)?e:[e],t.next=3,this.getAllTabGroups();case 3:return n=t.sent,t.abrupt("return",n.filter((function(t){return!!t.tags&&r.every((function(e){return t.tags.includes(e)}))})));case 5:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})}]);var t,e,r,n,o,a,i,c,s,u,l,f,p,h,d,v,y,g,m,b}();const Bt=Ut;function Wt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||Rt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(t,e){if(t){if("string"==typeof t)return Ht(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ht(t,e):void 0}}function Ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function qt(t){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(t)}function zt(){zt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,i=Object.create(a.prototype),c=new j(n||[]);return o(i,"_invoke",{value:N(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};u(w,i,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(P([])));_&&_!==r&&n.call(_,i)&&(w=_);var k=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,i,c){var s=f(t[o],t,a);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==qt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(l).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function N(e,r,n){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=T(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?v:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(qt(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},E(L.prototype),u(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(k),u(k,s,"Generator"),u(k,i,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Vt(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Kt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Vt(a,n,o,i,c,"next",t)}function c(t){Vt(a,n,o,i,c,"throw",t)}i(void 0)}))}}function Yt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jt(n.key),n)}}function Jt(t){var e=function(t){if("object"!=qt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=qt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==qt(e)?e:e+""}var $t=function(){return function(t,e){return e&&Yt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.compressionService=new gt,this.encryptionService=new Tt(e),e||this.initializeDefaultPassword()}),[{key:"initializeDefaultPassword",value:(o=Kt(zt().mark((function t(){var e;return zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,chrome.storage.local.get("password");case 3:(e=t.sent).password&&this.setPassword(e.password),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error initializing default password:",t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(){return o.apply(this,arguments)})},{key:"setPassword",value:function(t){this.encryptionService.setPassword(t)}},{key:"exportAsOneTabFormat",value:function(t){return t&&t.length?t.map((function(t){return"".concat(t.url," | ").concat(t.title||"")})).join("\n"):""}},{key:"importFromOneTabFormat",value:function(t){return t?t.split(/\n\s*\n/).filter((function(t){return""!==t.trim()})).map((function(t){return t.split("\n").filter((function(t){return""!==t.trim()})).map((function(t){var e=t.split("|"),r=e[0].trim();return{url:r,title:e.length>1?e.slice(1).join("|").trim():r}}))})):[]}},{key:"exportEncrypted",value:(n=Kt(zt().mark((function t(e){var r,n,o,a,i,c=arguments;return zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:null,t.prev=1,r||this.encryptionService.password){t.next=11;break}return t.next=5,chrome.storage.local.get("password");case 5:if(!(n=t.sent).password){t.next=10;break}this.setPassword(n.password),t.next=11;break;case 10:throw new Error("No password set for encryption");case 11:return o=JSON.parse(JSON.stringify(e)),a=this.compressionService.compressToBase64(o),t.next=15,this.encryptionService.encrypt(a,r);case 15:return i=t.sent,t.abrupt("return","TABLOCKER:".concat(i));case 19:throw t.prev=19,t.t0=t.catch(1),console.error("Export encryption error:",t.t0),new Error("Export error: "+t.t0.message);case 23:case"end":return t.stop()}}),t,this,[[1,19]])}))),function(t){return n.apply(this,arguments)})},{key:"importEncrypted",value:(r=Kt(zt().mark((function t(e){var r,n,o,a,i,c=arguments;return zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:null,t.prev=1,e&&"string"==typeof e){t.next=4;break}throw new Error("No data to import or invalid format");case 4:if(e.startsWith("TABLOCKER:")){t.next=6;break}throw new Error("Invalid TabLocker export format");case 6:if(r||this.encryptionService.password){t.next=15;break}return t.next=9,chrome.storage.local.get("password");case 9:if(!(n=t.sent).password){t.next=14;break}this.setPassword(n.password),t.next=15;break;case 14:throw new Error("No password set for decryption");case 15:return o=e.substring(10),t.prev=16,t.next=19,this.encryptionService.decrypt(o,r);case 19:a=t.sent,t.next=26;break;case 22:throw t.prev=22,t.t0=t.catch(16),console.error("Decryption failed during import:",t.t0),new Error("Unable to decrypt tab group: ".concat(t.t0.message));case 26:if(a){t.next=28;break}throw new Error("Decryption returned empty data");case 28:t.prev=28,i=this.compressionService.decompressFromBase64(a),t.next=36;break;case 32:throw t.prev=32,t.t1=t.catch(28),console.error("Decompression failed during import:",t.t1),new Error("Failed to decompress import data: ".concat(t.t1.message));case 36:if(i){t.next=38;break}throw new Error("Failed to decompress import data");case 38:return"object"!==qt(i)||Array.isArray(i)||i.tabs&&Array.isArray(i.tabs)||console.warn("Import data missing tabs array:",i),t.abrupt("return",i);case 42:throw t.prev=42,t.t2=t.catch(1),console.error("Import decryption error:",t.t2),new Error("Error processing import: ".concat(t.t2.message));case 46:case"end":return t.stop()}}),t,this,[[1,42],[16,22],[28,32]])}))),function(t){return r.apply(this,arguments)})},{key:"isOneTabFormat",value:function(t){if(!t)return!1;var e=t.split(/\n\s*\n/).filter((function(t){return""!==t.trim()}));if(0===e.length)return!1;var r,n=0,o=0,a=function(t){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=Rt(t))){e&&(t=e);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){i=!0,o=t},f:function(){try{a||null==e.return||e.return()}finally{if(i)throw o}}}}(e);try{for(a.s();!(r=a.n()).done;){var i=r.value.split("\n").filter((function(t){return""!==t.trim()}));n+=i.length,o+=i.filter((function(t){var e=t.trim();return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("edge://")})).length}}catch(t){a.e(t)}finally{a.f()}return n>0&&o/n>=.8}},{key:"isTabLockerFormat",value:function(t){return t&&t.startsWith("TABLOCKER:")}},{key:"autoImport",value:(e=Kt(zt().mark((function t(e){var r,n,o,a,i,c,s,u,l=arguments;return zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:null,e){t.next=3;break}throw new Error("No import data provided");case 3:if(!this.isTabLockerFormat(e)){t.next=8;break}return t.next=6,this.importEncrypted(e,r);case 6:return t.t0=t.sent,t.abrupt("return",{type:"tablocker",data:t.t0});case 8:if(1!==(n=e.trim().split("\n")).length){t.next=14;break}if((o=n[0].trim()).includes(" | ")?(c=o.split(" | ").map((function(t){return t.trim()})),s=Wt(c,2),a=s[0],i=s[1]):(a=o,i=o),!(a.startsWith("http://")||a.startsWith("https://")||a.startsWith("edge://"))){t.next=14;break}return t.abrupt("return",{type:"onetab",data:{groups:[{id:Date.now().toString(),name:"Imported URL",created:Date.now(),tabs:[{url:a,title:i}]}]}});case 14:if(!this.isOneTabFormat(e)){t.next=17;break}return u=this.importFromOneTabFormat(e),t.abrupt("return",{type:"onetab",data:{groups:u.map((function(t,e){return{id:(Date.now()+e).toString(),name:"Imported Group ".concat(e+1),created:Date.now(),tabs:t}}))}});case 17:throw new Error("Unsupported import format");case 18:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"downloadAsFile",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain";try{var n=new Blob([t],{type:r}),o=URL.createObjectURL(n),a=document.createElement("a");a.href=o,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout((function(){return URL.revokeObjectURL(o)}),100)}catch(t){throw console.error("Error creating download:",t),new Error("Cannot download file in this context")}}},{key:"copyToClipboard",value:(t=Kt(zt().mark((function t(e){var r,n;return zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.writeText(e);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),console.error("Error copying to clipboard:",t.t0),t.prev=9,(r=document.createElement("textarea")).value=e,r.style.position="fixed",r.style.left="-999999px",r.style.top="-999999px",document.body.appendChild(r),r.focus(),r.select(),n=document.execCommand("copy"),document.body.removeChild(r),t.abrupt("return",n);case 23:return t.prev=23,t.t1=t.catch(9),console.error("Fallback clipboard copy failed:",t.t1),t.abrupt("return",!1);case 27:case"end":return t.stop()}}),t,null,[[0,6],[9,23]])}))),function(e){return t.apply(this,arguments)})}]);var t,e,r,n,o}();const Qt=$t;function Xt(t){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(t)}function Zt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function te(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(r),!0).forEach((function(e){ee(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ee(t,e,r){return(e=ie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function re(){re=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,i=Object.create(a.prototype),c=new j(n||[]);return o(i,"_invoke",{value:N(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};u(w,i,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(P([])));_&&_!==r&&n.call(_,i)&&(w=_);var k=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,i,c){var s=f(t[o],t,a);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==Xt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(l).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function N(e,r,n){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=T(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?v:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(Xt(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},E(L.prototype),u(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(k),u(k,s,"Generator"),u(k,i,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function ne(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function oe(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){ne(a,n,o,i,c,"next",t)}function c(t){ne(a,n,o,i,c,"throw",t)}i(void 0)}))}}function ae(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ie(n.key),n)}}function ie(t){var e=function(t){if("object"!=Xt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Xt(e)?e:e+""}var ce=function(){return function(t,e){return e&&ae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),[{key:"getCurrentWindowTabs",value:(i=oe(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){chrome.tabs.query({currentWindow:!0},(function(e){var r=e.filter((function(t){return!(t.url.startsWith("chrome-extension://")||t.url.startsWith("moz-extension://")||t.url.startsWith("edge-extension://")||t.url.startsWith("opera-extension://"))})).map((function(t){return{id:t.id,url:t.url,title:t.title,favIconUrl:t.favIconUrl||null,pinned:t.pinned||!1,groupId:void 0!==t.groupId?t.groupId:-1}}));t(r)}))})));case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"getAllWindowsTabs",value:(a=oe(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){chrome.tabs.query({},(function(e){var r=e.reduce((function(t,e){return e.url.startsWith("chrome-extension://")||e.url.startsWith("moz-extension://")||e.url.startsWith("edge-extension://")||e.url.startsWith("opera-extension://")||(t[e.windowId]||(t[e.windowId]=[]),t[e.windowId].push({id:e.id,url:e.url,title:e.title,favIconUrl:e.favIconUrl||null,pinned:e.pinned||!1,groupId:void 0!==e.groupId?e.groupId:-1})),t}),{});t(Object.values(r))}))})));case 1:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"getTabGroups",value:(o=oe(re().mark((function t(){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(chrome.tabGroups){t.next=2;break}return t.abrupt("return",{});case 2:return t.abrupt("return",new Promise((function(t){chrome.tabGroups.query({},(function(e){var r=e.reduce((function(t,e){return t[e.id]={name:e.title||"",color:e.color||"grey"},t}),{});t(r)}))})));case 3:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"closeTabs",value:(n=oe(re().mark((function t(e){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){chrome.tabs.remove(e,(function(){t()}))})));case 1:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})},{key:"createTab",value:(r=oe(re().mark((function t(e){var r,n=arguments;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!(n.length>1&&void 0!==n[1])||n[1],t.abrupt("return",new Promise((function(t){chrome.tabs.create({url:e,active:r},(function(e){t(e)}))})));case 2:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})},{key:"restoreTabs",value:(e=oe(re().mark((function t(e){var r,n,o,a,i;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],n=0;case 3:if(!(n<e.length)){t.next=13;break}return o=e[n],a=0===n,t.next=8,this.createTab(o.url,a);case 8:i=t.sent,r.push(i);case 10:n++,t.next=3;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"isTabPinned",value:(t=oe(re().mark((function t(e){return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){chrome.tabs.get(e,(function(e){t(e.pinned||!1)}))})));case 1:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})},{key:"formatTabForDisplay",value:function(t){var e="";try{e=new URL(t.url).hostname}catch(r){e=t.url}return te(te({},t),{},{domain:e,shortTitle:this.truncateString(t.title,50)})}},{key:"truncateString",value:function(t,e){return t?t.length<=e?t:t.substring(0,e)+"...":""}}]);var t,e,r,n,o,a,i}();const se=ce,ue=function(e){var r=e.tag,n=e.onRemove,o=e.showRemove,a=void 0===o||o;return r?b("div",{className:"tag-badge",style:{backgroundColor:r.color}},[r.name,a&&b("span",{className:"tag-badge-remove",onClick:function(t){t.stopPropagation(),n(r.id)}},[b(t.Icon,{name:"x",size:"0.7em"})])]):null},le=function(t){var e=t.tags,r=t.selectedTagIds,n=void 0===r?[]:r,o=t.onTagSelect,a=t.loading;if(void 0!==a&&a)return b("div",{className:"tag-selector-loading"},"Loading tags...");if(!e||0===e.length)return b("div",{className:"tag-selector-empty"},b("p",null,"No tags available. Create tags in the Tags tab."));var i=e.filter((function(t){return!n.includes(t.id)}));return 0===i.length?b("div",{className:"tag-selector-empty"},b("p",null,"All tags have been added to this group.")):b("div",{className:"tag-selector-list"},i.map((function(t){return b("div",{key:t.id,className:"tag-selector-item",onClick:function(){return o(t.id)}},b("div",{className:"tag-selector-color",style:{backgroundColor:t.color}}),b("span",{className:"tag-selector-name"},t.name))})))};function fe(t){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(t)}function pe(t){return function(t){if(Array.isArray(t))return me(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ge(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(){he=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,i=Object.create(a.prototype),c=new j(n||[]);return o(i,"_invoke",{value:N(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};u(w,i,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(P([])));_&&_!==r&&n.call(_,i)&&(w=_);var k=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,i,c){var s=f(t[o],t,a);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==fe(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(l).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function N(e,r,n){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=T(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?v:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(fe(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},E(L.prototype),u(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(k),u(k,s,"Generator"),u(k,i,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function de(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function ve(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){de(a,n,o,i,c,"next",t)}function c(t){de(a,n,o,i,c,"throw",t)}i(void 0)}))}}function ye(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||ge(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(t,e){if(t){if("string"==typeof t)return me(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?me(t,e):void 0}}function me(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}const be=function(t){var e=t.groupId,r=t.tags,n=void 0===r?[]:r,o=ye(et([]),2),a=o[0],i=o[1],c=ye(et(!1),2),s=c[0],u=c[1],l=ye(et(!1),2),f=l[0],p=l[1],h=ye(et(n),2),d=h[0],v=h[1],y=nt(new Bt);rt((function(){var t=function(){var t=ve(he().mark((function t(){var e;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(!0),t.next=4,y.current.getAllTags();case 4:e=t.sent,i(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error loading tags:",t.t0);case 11:return t.prev=11,p(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(){return t.apply(this,arguments)}}();t()}),[]),rt((function(){v(n)}),[n]);var g=function(){var t=ve(he().mark((function t(r){var n;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.current.addTagToTabGroup(e,r);case 3:return t.next=5,y.current.getTabGroup(e);case 5:n=t.sent,v(n.tags||[]),u(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Error adding tag to group:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=ve(he().mark((function t(r){var n;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.current.removeTagFromTabGroup(e,r);case 3:return t.next=5,y.current.getTabGroup(e);case 5:n=t.sent,v(n.tags||[]),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Error removing tag from group:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}();return b("div",{className:"tab-group-tags-container"},[b("div",{className:"tab-group-tags"},[].concat(pe(d&&d.map((function(t){var e=function(t){return a.find((function(e){return e.id===t}))}(t);return e?b(ue,{key:e.id,tag:e,onRemove:m}):null}))),[b("button",{className:"btn btn-sm btn-icon tag-add-button",onClick:function(t){t.stopPropagation(),u(!s)},title:"Add tags"},[b("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},[b("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),b("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})])])])),s&&b("div",{className:"tag-selector-dropdown"},[b(le,{tags:a,selectedTagIds:d,onTagSelect:g,loading:f})])])};function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}var xe=["name","className","size"];function _e(t){return function(t){if(Array.isArray(t))return Ae(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ce(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ce(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Ee(){return Ee=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ee.apply(null,arguments)}function Le(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ne(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(r),!0).forEach((function(e){Te(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Te(t,e,r){return(e=function(t){var e=function(t){if("object"!=we(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=we(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==we(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Se(){Se=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof g?e:g,i=Object.create(a.prototype),c=new j(n||[]);return o(i,"_invoke",{value:N(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};u(w,i,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(P([])));_&&_!==r&&n.call(_,i)&&(w=_);var k=b.prototype=g.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,i,c){var s=f(t[o],t,a);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==we(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(l).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function N(e,r,n){var o=p;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=T(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?v:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(we(e)+" is not iterable")}return m.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},E(L.prototype),u(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(k),u(k,s,"Generator"),u(k,i,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Oe(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function je(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Oe(a,n,o,i,c,"next",t)}function c(t){Oe(a,n,o,i,c,"throw",t)}i(void 0)}))}}function Pe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||Ce(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(t,e){if(t){if("string"==typeof t)return Ae(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ae(t,e):void 0}}function Ae(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Ie={showNotification:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=document.createElement("div");r.className="notification notification-".concat(e),r.textContent=t;var n=document.querySelector(".notification-container");n||((n=document.createElement("div")).className="notification-container",document.body.appendChild(n)),n.appendChild(r),setTimeout((function(){r.classList.add("notification-hide"),setTimeout((function(){r.parentNode&&r.parentNode.removeChild(r),0===n.children.length&&n.parentNode&&n.parentNode.removeChild(n)}),300)}),2e3)}};function Ge(t){var e=t.text,r=t.searchQuery,n=t.className,o=void 0===n?"":n;if(!r||!e)return b("span",{className:o},e);var a=e.toLowerCase(),i=r.toLowerCase();if(!a.includes(i))return b("span",{className:o},e);for(var c=[],s=0,u=a.indexOf(i);-1!==u;)u>s&&c.push(b("span",{key:"text-".concat(s)},e.substring(s,u))),c.push(b("span",{key:"highlight-".concat(u),className:"search-highlight"},e.substring(u,u+i.length))),s=u+i.length,u=a.indexOf(i,s);return s<e.length&&c.push(b("span",{key:"text-end"},e.substring(s))),b("span",{className:o},c)}function De(t){var e=t.group,r=t.onRestore,n=t.onDelete,o=t.onRestoreTab,a=t.onReorderTabs,i=t.onUpdateGroup,c=t.onUpdateTab,s=t.dragHandleProps,u=Pe(et(!1),2),l=u[0],f=u[1],p=Pe(et(null),2),h=p[0],d=p[1],v=Pe(et(null),2),y=v[0],g=v[1],m=Pe(et(!1),2),w=m[0],x=m[1],_=Pe(et(e.name),2),k=_[0],E=_[1],L=Pe(et(null),2),N=L[0],T=L[1],S=Pe(et(null),2),O=S[0],j=S[1],P=Pe(et(""),2),C=P[0],A=P[1],I=Pe(et(null),2),G=I[0],D=I[1],F=Pe(et(!1),2),M=F[0],U=F[1];rt((function(){i(e.id,w||null!==N?{isEditing:!0}:{isEditing:!1},!1)}),[w,N]);var B=function(t){return t?new Date(t).toLocaleString():""},W=function(){var t=je(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.tabs&&e.tabs.length>0||G||M)){t.next=2;break}return t.abrupt("return");case 2:console.log("Loading full tab data for group ".concat(e.id)),U(!0);try{chrome.runtime.sendMessage({action:"getTabGroup",id:e.id},(function(t){if(t&&t.success&&t.group){var r=t.group;console.log("Successfully loaded ".concat(r.tabs?r.tabs.length:0," tabs for group ").concat(e.id)),D(r)}else console.error("Failed to load tab data for group ".concat(e.id),(null==t?void 0:t.error)||"Unknown error");U(!1)}))}catch(t){console.error("Error loading tab data for group ".concat(e.id,":"),t),U(!1)}case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=function(){d(null),g(null)};return rt((function(){l&&W()}),[l]),b("div",Ee({className:"tab-group"},s||{}),b("div",{className:"tab-group-header",draggable:!w,onClick:function(t){"BUTTON"===t.target.tagName||"INPUT"===t.target.tagName||w||f(!l)}},b("div",{className:"tab-group-info"},w?b("form",{className:"edit-group-name-form",onSubmit:function(t){t.preventDefault(),k.trim()&&(i(e.id,{name:k.trim()}),x(!1))}},b("input",{type:"text",className:"form-control edit-group-name-input",value:k,onChange:function(t){return E(t.target.value)},autoFocus:!0,onBlur:function(){k.trim()?i(e.id,{name:k.trim()}):E(e.name),x(!1)},onClick:function(t){return t.stopPropagation()}})):b("div",{className:"group-name-container"},b("h3",{className:"tab-group-name"},e.matchInfo&&"name"===e.matchInfo.field?b(Ge,{text:e.name,searchQuery:e.matchInfo.query}):e.name,b("button",{className:"btn-icon edit-icon",onClick:function(t){t.stopPropagation(),x(!0)},title:"Edit group name"},b(We,{name:"edit-2",size:"0.8em"})))),b("div",{className:"tab-group-meta"},b("span",{className:"tab-group-date"},e.matchInfo&&"date"===e.matchInfo.field?b(Ge,{text:B(e.created),searchQuery:e.matchInfo.query}):B(e.created)),b("span",{className:"tab-group-count"},e.tabCount," tab",1!==e.tabCount&&"s")),b(be,{groupId:e.id,tags:e.tags||[]})),b("div",{className:"tab-group-actions"},b("button",{className:"btn btn-sm btn-primary",onClick:function(){return r(e.id)},title:"Restore all tabs"},b(We,{name:"external-link"})," Restore All"),b("button",{className:"btn btn-sm btn-secondary",onClick:function(t){t.stopPropagation(),f(!l)},title:l?"Collapse":"Expand"},b(We,{name:l?"chevron-up":"chevron-down"})," ",l?"Collapse":"Expand"),b("button",{className:"btn btn-sm btn-danger",onClick:function(){return n(e.id)},title:"Delete group"},b(We,{name:"trash-2"})," Delete"))),l&&b("div",{className:"tab-list"},M&&b("div",{className:"loading-tabs"},b("p",null,"Loading tabs...")),!M&&!G&&!e.tabs&&b("div",{className:"no-tabs"},b("p",null,"No tabs available. This might be due to a data loading issue.")),(G&&G.tabs||e.tabs)&&(G?G.tabs:e.tabs).map((function(t,r){return b("div",{key:r,className:"tab-item ".concat(h===r?"tab-dragging":""," ").concat(y===r?"tab-drag-over":""),draggable:null===N,onDragStart:function(){return function(t){w||null!==N||d(t)}(r)},onDragOver:function(t){return function(t,e){t.preventDefault(),null!==h&&h!==e&&g(e)}(t,r)},onDrop:function(t){return function(t,r){t.preventDefault(),null!==h&&h!==r&&(a(e.id,h,r),d(null),g(null))}(t,r)},onDragEnd:R},b("div",{className:"tab-favicon"},t.favIconUrl?b("img",{src:t.favIconUrl,alt:"",width:"16",height:"16"}):b("div",{className:"default-favicon"})),b("div",{className:"tab-info"},N===r&&"title"===O?b("form",{className:"edit-tab-form",onSubmit:function(n){if(n.preventDefault(),C.trim()){var o=Ne(Ne({},t),{},{title:C.trim()});c(e.id,r,o)}T(null),j(null)},onClick:function(t){return t.stopPropagation()}},b("input",{type:"text",className:"form-control edit-tab-input",value:C,onChange:function(t){return A(t.target.value)},autoFocus:!0,onBlur:function(){if(C.trim()){var n=Ne(Ne({},t),{},{title:C.trim()});c(e.id,r,n)}T(null),j(null)}})):b("div",{className:"tab-title",title:t.title,onClick:function(e){"BUTTON"!==e.target.tagName&&(e.stopPropagation(),T(r),j("title"),A(t.title||""))}},e.matchInfo&&"title"===e.matchInfo.field?b(Ge,{text:t.title||"Untitled Tab",searchQuery:e.matchInfo.query}):t.title||"Untitled Tab",b("button",{className:"btn-icon edit-icon",onClick:function(e){e.stopPropagation(),T(r),j("title"),A(t.title||"")},title:"Edit tab title"},b(We,{name:"edit-2",size:"0.8em"}))),N===r&&"url"===O?b("form",{className:"edit-tab-form",onSubmit:function(n){if(n.preventDefault(),C.trim())try{new URL(C);var o=Ne(Ne({},t),{},{url:C.trim()});c(e.id,r,o)}catch(o){var a="http://".concat(C.trim());try{new URL(a);var i=Ne(Ne({},t),{},{url:a});c(e.id,r,i)}catch(n){return void alert("Please enter a valid URL")}}T(null),j(null)},onClick:function(t){return t.stopPropagation()}},b("input",{type:"text",className:"form-control edit-tab-input",value:C,onChange:function(t){return A(t.target.value)},autoFocus:!0,onBlur:function(){if(C.trim())try{new URL(C);var n=Ne(Ne({},t),{},{url:C.trim()});c(e.id,r,n)}catch(n){var o="http://".concat(C.trim());try{new URL(o);var a=Ne(Ne({},t),{},{url:o});c(e.id,r,a)}catch(t){}}T(null),j(null)}})):b("div",{className:"tab-url",title:t.url,onClick:function(e){"BUTTON"!==e.target.tagName&&(e.stopPropagation(),T(r),j("url"),A(t.url||""))}},e.matchInfo&&"url"===e.matchInfo.field?b(Ge,{text:t.url,searchQuery:e.matchInfo.query}):t.url,b("button",{className:"btn-icon edit-icon",onClick:function(e){e.stopPropagation(),T(r),j("url"),A(t.url||"")},title:"Edit tab URL"},b(We,{name:"edit-2",size:"0.8em"})))),b("button",{className:"btn btn-sm btn-link",onClick:function(){return o(t)},title:"Restore this tab"},b(We,{name:"external-link"})," Restore"))}))))}function Fe(t){var e=t.onSearch,r=Pe(et(""),2),n=r[0],o=r[1];return b("form",{className:"search-form",onSubmit:function(t){t.preventDefault(),e(n)}},b("input",{type:"text",className:"search-input",placeholder:"Search saved tabs...",value:n,onChange:function(t){return o(t.target.value)}}),b("button",{type:"submit",className:"btn btn-primary search-button"},b(We,{name:"search"})," Search"))}function Me(t){var e=t.onImport,r=t.showToast,n=Pe(et(""),2),o=n[0],a=n[1],i=Pe(et(""),2),c=i[0],s=i[1],u=Pe(et(""),2),l=u[0],f=u[1],p=Pe(et(!1),2),h=(p[0],p[1]),d=Pe(et(!1),2),v=d[0],y=d[1],g=new Qt,m=new Bt,w=nt(null),x=nt(null),_=function(){var t=je(Se().mark((function t(e){var n,a,i,c,s,u,l,f,p,d,v,y,b,w,x;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h(!0),t.next=4,m.getAllTabGroups();case 4:if(0!==(n=t.sent).length){t.next=8;break}return r("No tab groups to export","warning"),t.abrupt("return");case 8:if(a="",i="","onetab"!==e){t.next=35;break}c=[],s=ke(n),t.prev=13,s.s();case 15:if((u=s.n()).done){t.next=23;break}return l=u.value,t.next=19,m.getTabGroup(l.id);case 19:(f=t.sent)&&f.tabs&&c.push.apply(c,_e(f.tabs));case 21:t.next=15;break;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(13),s.e(t.t0);case 28:return t.prev=28,s.f(),t.finish(28);case 31:a=g.exportAsOneTabFormat(c),i="tablocker-onetab-".concat(Date.now(),".txt"),t.next=62;break;case 35:if("encrypted"!==e){t.next=62;break}p=[],d=ke(n),t.prev=38,d.s();case 40:if((v=d.n()).done){t.next=48;break}return y=v.value,t.next=44,m.getTabGroup(y.id);case 44:(b=t.sent)&&p.push(b);case 46:t.next=40;break;case 48:t.next=53;break;case 50:t.prev=50,t.t1=t.catch(38),d.e(t.t1);case 53:return t.prev=53,d.f(),t.finish(53);case 56:return w={groups:p,version:"1.0",exportDate:Date.now()},o&&g.setPassword(o),t.next=60,g.exportEncrypted(w,o);case 60:a=t.sent,i="tablocker-encrypted-".concat(Date.now(),".tlbk");case 62:if(a){t.next=65;break}return h(!1),t.abrupt("return");case 65:(x=document.createElement("div")).className="export-options-dialog",x.innerHTML='\n        <div class="export-options-content">\n          <h3>Export Options</h3>\n          <div class="export-options-buttons">\n            <button class="download-btn">\n              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>\n                <polyline points="7 10 12 15 17 10"></polyline>\n                <line x1="12" y1="15" x2="12" y2="3"></line>\n              </svg>\n              Download as File\n            </button>\n            <button class="copy-btn">\n              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>\n                <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>\n              </svg>\n              Copy to Clipboard\n            </button>\n          </div>\n          <button class="close-btn">\n            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n              <line x1="18" y1="6" x2="6" y2="18"></line>\n              <line x1="6" y1="6" x2="18" y2="18"></line>\n            </svg>\n          </button>\n        </div>\n      ',document.body.appendChild(x),x.querySelector(".download-btn").addEventListener("click",(function(){g.downloadAsFile(a,i),r("Export saved to file successfully!","success"),document.body.removeChild(x)})),x.querySelector(".copy-btn").addEventListener("click",je(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.writeText(a);case 3:r("Copied to clipboard!","success"),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Failed to copy:",t.t0),r("Failed to copy to clipboard","error");case 10:document.body.removeChild(x);case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))),x.querySelector(".close-btn").addEventListener("click",(function(){document.body.removeChild(x)})),x.addEventListener("click",(function(t){t.target===x&&document.body.removeChild(x)})),h(!1),t.next=80;break;case 76:t.prev=76,t.t2=t.catch(0),console.error("Export error:",t.t2),r("Export failed: ".concat(t.t2.message));case 80:case"end":return t.stop()}}),t,null,[[0,76],[13,25,28,31],[38,50,53,56]])})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=je(Se().mark((function t(){var n;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,l.trim()){t.next=4;break}return r("Please enter import data","warning"),t.abrupt("return");case 4:return y(!0),c&&g.setPassword(c),t.next=8,g.autoImport(l,c);case 8:"tablocker"===(n=t.sent).type?(r("TabLocker import successful!","success"),e(n.data)):"onetab"===n.type&&(r("OneTab import successful!","success"),e(n.data)),y(!1),f(""),s(""),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(0),console.error("Import error:",t.t0),r("Import failed: ".concat(t.t0.message),"error"),y(!1);case 20:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=je(Se().mark((function t(n){var o,a;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=n.target.files[0]){t.next=4;break}return t.abrupt("return");case 4:y(!0),(a=new FileReader).onload=function(){var t=je(Se().mark((function t(n){var o,a;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=n.target.result,f(o),!o){t.next=11;break}return c&&g.setPassword(c),t.next=7,g.autoImport(o,c);case 7:"tablocker"===(a=t.sent).type?(r("TabLocker import successful!","success"),e(a.data)):"onetab"===a.type&&(r("OneTab import successful!","success"),e(a.data)),f(""),s("");case 11:y(!1),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(0),console.error("File import error:",t.t0),r("File import failed: ".concat(t.t0.message),"error"),y(!1);case 19:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}(),a.onerror=function(){r("Error reading file")},a.readAsText(o),n.target.value="",t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("File import error:",t.t0),r("File import failed: ".concat(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),L=function(){w.current&&w.current.click()};return rt((function(){var t=x.current;if(t){var e=function(e){e.preventDefault(),e.stopPropagation(),t.classList.add("dragover")},r=function(e){e.preventDefault(),e.stopPropagation(),t.classList.remove("dragover")},n=function(e){if(e.preventDefault(),e.stopPropagation(),t.classList.remove("dragover"),e.dataTransfer.files&&e.dataTransfer.files.length>0){var r=w.current;if(r){try{var n=new DataTransfer;n.items.add(e.dataTransfer.files[0]),r.files=n.files}catch(t){return console.error("DataTransfer not supported:",t),void L()}var o=new Event("change",{bubbles:!0});r.dispatchEvent(o)}}};return t.addEventListener("dragover",e),t.addEventListener("dragleave",r),t.addEventListener("drop",n),function(){t.removeEventListener("dragover",e),t.removeEventListener("dragleave",r),t.removeEventListener("drop",n)}}}),[]),b("div",{className:"export-import-container"},b("div",{className:"card"},b("div",{className:"card-header"},b("h3",null,"Export Tabs")),b("div",{className:"card-body"},b("div",{className:"form-group"},b("label",{htmlFor:"exportPassword"},"Encryption Password (optional):"),b("input",{type:"password",id:"exportPassword",className:"form-control",value:o,onChange:function(t){return a(t.target.value)},placeholder:"Leave empty for OneTab format"})),b("div",{className:"export-buttons"},b("button",{className:"btn btn-primary",onClick:function(){return _("encrypted")},title:"Export as encrypted TabLocker format (download or copy)"},b(We,{name:"lock"})," Export Encrypted"),b("button",{className:"btn btn-secondary",onClick:function(){return _("onetab")},title:"Export in OneTab compatible format (download or copy)"},b(We,{name:"share"})," Export OneTab Compatible")))),b("div",{className:"card"},b("div",{className:"card-header"},b("h3",null,"Import Tabs")),b("div",{className:"card-body"},b("div",{className:"form-group"},b("label",{htmlFor:"importText"},"Paste exported data:"),b("textarea",{id:"importText",className:"form-control",value:l,onChange:function(t){return f(t.target.value)},placeholder:"Paste OneTab or TabLocker exported data here",rows:5})),b("div",{className:"form-group"},b("label",{htmlFor:"importPassword"},"Decryption Password (if needed):"),b("input",{type:"password",id:"importPassword",className:"form-control",value:c,onChange:function(t){return s(t.target.value)},placeholder:"Only needed for encrypted exports"})),b("div",{className:"import-buttons"},b("button",{className:"btn btn-primary",onClick:k,title:"Import from pasted text",disabled:v},v?"Importing...":"Import"),b("button",{className:"btn btn-secondary",onClick:L,title:"Import from file",disabled:v},b(We,{name:"file-plus"})," Import from File"),b("input",{ref:w,type:"file",accept:".txt,.tlbk,text/plain",onChange:E,style:{display:"none"}})),b("div",{className:"drag-drop-area",ref:x,onClick:L},b(We,{name:"upload-cloud",size:"2.5em"}),b("p",null,"Drag and drop a file here or click to select")))))}function Ue(t){var e=t.settings,r=t.onSaveSettings,n=Pe(et(e),2),o=n[0],a=n[1],i=Pe(et(!1),2),c=i[0],s=i[1];rt((function(){a(e)}),[e]);var u=function(t){var e=t.target,r=e.name,n=e.value,i=e.type,c=e.checked;a(Ne(Ne({},o),{},Te({},r,"checkbox"===i?c:n)))};return b("div",{className:"settings-container"},b("form",{onSubmit:function(t){t.preventDefault(),r(o)}},b("div",{className:"card"},b("div",{className:"card-header"},b("h3",null,"General Settings")),b("div",{className:"card-body"},b("div",{className:"form-group checkbox"},b("input",{type:"checkbox",id:"closeTabsAfterSave",name:"closeTabsAfterSave",checked:o.closeTabsAfterSave,onChange:u}),b("label",{htmlFor:"closeTabsAfterSave"},"Close tabs after saving")),b("div",{className:"form-group"},b("label",{htmlFor:"password"},b(We,{name:"key"})," Encryption Password:"),b("div",{className:"password-input-container"},b("input",{type:c?"text":"password",id:"password",name:"password",className:"form-control",value:o.password||"",onChange:u,placeholder:"Enter encryption password"}),b("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:function(){return s(!c)},title:c?"Hide password":"Show password"},b(We,{name:c?"eye-off":"eye"}))),b("small",null,"This password will be used to encrypt your data. If you forget it, you will not be able to recover your saved tabs.")),b("div",{className:"form-group checkbox"},b("input",{type:"checkbox",id:"usePinProtection",name:"usePinProtection",checked:o.usePinProtection,onChange:u}),b("label",{htmlFor:"usePinProtection"},"Enable PIN protection for quick access")),o.usePinProtection&&b("div",{className:"form-group"},b("label",{htmlFor:"pin"},"PIN:"),b("input",{type:"password",id:"pin",name:"pin",className:"form-control",value:o.pin||"",onChange:u,placeholder:"Enter a 4-digit PIN",pattern:"[0-9]{4}",maxLength:4}),b("small",null,"This PIN will be used for quick access to your saved tabs.")),b("div",{className:"form-group checkbox"},b("input",{type:"checkbox",id:"autoBackup",name:"autoBackup",checked:o.autoBackup,onChange:u}),b("label",{htmlFor:"autoBackup"},"Automatically back up tab data weekly")),b("button",{type:"submit",className:"btn btn-primary"},b(We,{name:"save"})," Save Settings")))))}function Be(t){var e=t.onTagsUpdate,r=Pe(et([]),2),n=r[0],o=r[1],a=Pe(et(""),2),i=a[0],c=a[1],s=Pe(et("#3498db"),2),u=s[0],l=s[1],f=Pe(et(null),2),p=f[0],h=f[1],d=Pe(et(!0),2),v=d[0],y=d[1],g=Pe(et(null),2),m=g[0],w=g[1],x=["#3498db","#2ecc71","#e74c3c","#f39c12","#9b59b6","#1abc9c","#e67e22","#95a5a6"];rt((function(){var t=function(){var t=je(Se().mark((function t(){var e,r;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,y(!0),e=new Bt,t.next=5,e.getAllTags();case 5:r=t.sent,o(r),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Error loading tags:",t.t0),w({type:"error",text:"Error loading tags: ".concat(t.t0.message)});case 13:return t.prev=13,y(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,9,13,16]])})));return function(){return t.apply(this,arguments)}}();t()}),[]);var _=function(){var t=je(Se().mark((function t(){var r,a,s;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.trim()){t.next=3;break}return w({type:"error",text:"Tag name cannot be empty"}),t.abrupt("return");case 3:return t.prev=3,r=new Bt,t.next=7,r.getAllTags();case 7:if(!t.sent.some((function(t){return t.name.toLowerCase()===i.trim().toLowerCase()}))){t.next=11;break}return w({type:"error",text:"A tag with this name already exists"}),t.abrupt("return");case 11:return a={name:i.trim(),color:u,createdAt:(new Date).toISOString()},t.next=14,r.createTag(a);case 14:s=t.sent,a.id=s,o([].concat(_e(n),[a])),c(""),w({type:"success",text:"Tag created successfully"}),setTimeout((function(){return w(null)}),2e3),e&&e(),t.next=27;break;case 23:t.prev=23,t.t0=t.catch(3),console.error("Error creating tag:",t.t0),w({type:"error",text:"Error creating tag: ".concat(t.t0.message)});case 27:case"end":return t.stop()}}),t,null,[[3,23]])})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=je(Se().mark((function t(){var r,a;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p.name.trim()){t.next=3;break}return w({type:"error",text:"Tag name cannot be empty"}),t.abrupt("return");case 3:return t.prev=3,r=new Bt,t.next=7,r.getAllTags();case 7:if(!t.sent.some((function(t){return t.id!==p.id&&t.name.toLowerCase()===p.name.trim().toLowerCase()}))){t.next=12;break}return w({type:"error",text:"A tag with this name already exists"}),t.abrupt("return");case 12:return a=Ne(Ne({},p),{},{name:p.name.trim()}),t.next=15,r.updateTag(a);case 15:o(n.map((function(t){return t.id===a.id?a:t}))),h(null),w({type:"success",text:"Tag updated successfully"}),setTimeout((function(){return w(null)}),2e3),e&&e(),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(3),console.error("Error updating tag:",t.t0),w({type:"error",text:"Error updating tag: ".concat(t.t0.message)});case 26:case"end":return t.stop()}}),t,null,[[3,22]])})));return function(){return t.apply(this,arguments)}}(),E=function(){h(null)},L=function(){var t=je(Se().mark((function t(r){var a;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Are you sure you want to delete this tag? This will remove it from all tab groups.")){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,a=new Bt,t.next=6,a.deleteTag(r);case 6:o(n.filter((function(t){return t.id!==r}))),w({type:"success",text:"Tag deleted successfully"}),setTimeout((function(){return w(null)}),2e3),e&&e(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.error("Error deleting tag:",t.t0),w({type:"error",text:"Error deleting tag: ".concat(t.t0.message)});case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}();return b("div",{className:"tags-container"},b("h2",null,"Manage Tags"),m&&b("div",{className:"notification ".concat(m.type)},m.text),b("div",{className:"new-tag-form"},b("h3",null,"Create New Tag"),b("div",{className:"form-row"},b("input",{type:"text",placeholder:"Tag name",value:i,onChange:function(t){return c(t.target.value)}}),b("div",{className:"color-selector"},b("input",{type:"color",value:u,onChange:function(t){return l(t.target.value)}}),b("span",null,"Color")),b("button",{className:"btn btn-primary",onClick:_},b(We,{name:"plus"})," Create Tag")),b("div",{className:"color-presets"},x.map((function(t){return b("div",{key:t,className:"color-preset ".concat(t===u?"selected":""),style:{backgroundColor:t},onClick:function(){return l(t)}})})))),b("div",{className:"tags-list"},b("h3",null,"Your Tags"),v?b("div",{className:"loading"},"Loading tags..."):0===n.length?b("div",{className:"empty-state"},b("p",null,"No tags found. Create your first tag above.")):b("ul",null,n.map((function(t){return b("li",{key:t.id,className:"tag-item"},p&&p.id===t.id?b("div",{className:"tag-edit-form"},b("input",{type:"text",value:p.name,onChange:function(t){return h(Ne(Ne({},p),{},{name:t.target.value}))}}),b("div",{className:"color-selector"},b("input",{type:"color",value:p.color,onChange:function(t){return h(Ne(Ne({},p),{},{color:t.target.value}))}})),b("div",{className:"color-presets"},x.map((function(t){return b("div",{key:t,className:"color-preset ".concat(t===p.color?"selected":""),style:{backgroundColor:t},onClick:function(){return h(Ne(Ne({},p),{},{color:t}))}})}))),b("div",{className:"tag-edit-actions"},b("button",{className:"btn btn-primary",onClick:k},b(We,{name:"save"})," Save"),b("button",{className:"btn btn-secondary",onClick:E},b(We,{name:"x"})," Cancel"))):b("div",{className:"tag-details"},b("div",{className:"tag-color",style:{backgroundColor:t.color}}),b("span",{className:"tag-name"},t.name),b("div",{className:"tag-actions"},b("button",{className:"btn-icon",onClick:function(){return function(t){h(Ne(Ne({},t),{},{name:t.name,color:t.color}))}(t)},title:"Edit tag"},b(We,{name:"edit-2"})),b("button",{className:"btn-icon btn-danger",onClick:function(){return L(t.id)},title:"Delete tag"},b(We,{name:"trash-2"})))))})))))}function We(t){var e=t.name,r=t.className,n=void 0===r?"":r,o=t.size,a=void 0===o?"1em":o,i=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(-1!==e.indexOf(n))continue;r[n]=t[n]}return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],-1===e.indexOf(r)&&{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,xe);return{download:b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-download ".concat(n),style:{width:a,height:a}},i),b("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),b("polyline",{points:"7 10 12 15 17 10"}),b("line",{x1:"12",y1:"15",x2:"12",y2:"3"})),"clipboard-copy":b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-clipboard ".concat(n),style:{width:a,height:a}},i),b("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),b("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})),lock:b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-lock ".concat(n),style:{width:a,height:a}},i),b("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),b("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})),share:b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-share ".concat(n),style:{width:a,height:a}},i),b("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),b("polyline",{points:"16 6 12 2 8 6"}),b("line",{x1:"12",y1:"2",x2:"12",y2:"15"})),x:b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x ".concat(n),style:{width:a,height:a}},i),b("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),b("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),"file-plus":b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file-plus ".concat(n),style:{width:a,height:a}},i),b("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),b("polyline",{points:"14 2 14 8 20 8"}),b("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),b("line",{x1:"9",y1:"15",x2:"15",y2:"15"})),upload:b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-upload ".concat(n),style:{width:a,height:a}},i),b("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),b("polyline",{points:"17 8 12 3 7 8"}),b("line",{x1:"12",y1:"3",x2:"12",y2:"15"})),"upload-cloud":b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-upload-cloud ".concat(n),style:{width:a,height:a}},i),b("polyline",{points:"16 16 12 12 8 16"}),b("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),b("path",{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"}),b("polyline",{points:"16 16 12 12 8 16"})),settings:b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-settings ".concat(n),style:{width:a,height:a}},i),b("circle",{cx:"12",cy:"12",r:"3"}),b("path",{d:"M19.4 15a1.65 1.65 0 0 1 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 1-1.82-.33 1.65 1.65 0 0 1-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 1-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})),save:b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-save ".concat(n),style:{width:a,height:a}},i),b("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),b("polyline",{points:"17 21 17 13 7 13 7 21"}),b("polyline",{points:"7 3 7 8 15 8"})),key:b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-key ".concat(n),style:{width:a,height:a}},i),b("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"})),eye:b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye ".concat(n),style:{width:a,height:a}},i),b("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),b("circle",{cx:"12",cy:"12",r:"3"})),"eye-off":b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye-off ".concat(n),style:{width:a,height:a}},i),b("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),b("line",{x1:"1",y1:"1",x2:"23",y2:"23"})),"trash-2":b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-trash-2 ".concat(n),style:{width:a,height:a}},i),b("polyline",{points:"3 6 5 6 21 6"}),b("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),b("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),b("line",{x1:"14",y1:"11",x2:"14",y2:"17"})),"external-link":b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-external-link ".concat(n),style:{width:a,height:a}},i),b("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),b("polyline",{points:"15 3 21 3 21 9"}),b("line",{x1:"10",y1:"14",x2:"21",y2:"3"})),search:b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-search ".concat(n),style:{width:a,height:a}},i),b("circle",{cx:"11",cy:"11",r:"8"}),b("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})),"edit-2":b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-edit-2 ".concat(n),style:{width:a,height:a}},i),b("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})),"chevron-down":b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-down ".concat(n),style:{width:a,height:a}},i),b("polyline",{points:"6 9 12 15 18 9"})),"chevron-up":b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-up ".concat(n),style:{width:a,height:a}},i),b("polyline",{points:"18 15 12 9 6 15"})),"refresh-cw":b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-refresh-cw ".concat(n),style:{width:a,height:a}},i),b("polyline",{points:"23 4 23 10 17 10"}),b("polyline",{points:"1 20 1 14 7 14"}),b("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})),database:b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-database ".concat(n),style:{width:a,height:a}},i),b("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),b("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),b("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"})),layers:b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-layers ".concat(n),style:{width:a,height:a}},i),b("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),b("polyline",{points:"2 17 12 22 22 17"}),b("polyline",{points:"2 12 12 17 22 12"})),tag:b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-tag ".concat(n),style:{width:a,height:a}},i),b("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),b("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})),plus:b("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus ".concat(n),style:{width:a,height:a}},i),b("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),b("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}[e]||null}!function(t,r,o){var a,i,c,s;r==document&&(r=document.documentElement),n.__&&n.__(t,r),i=(a="function"==typeof o)?null:o&&o.__k||r.__k,c=[],s=[],I(r,t=(!a&&o||r).__k=b(x,null,[t]),i||h,h,r.namespaceURI,!a&&o?[o]:i?null:r.firstChild?e.call(r.childNodes):null,c,!a&&o?o:i?i.__e:r.firstChild,a,s),G(c,t,s)}(b((function(){var t=Pe(et("tabs"),2),e=t[0],r=t[1],n=Pe(et([]),2),o=n[0],a=n[1],i=Pe(et(!0),2),c=i[0],s=i[1],u=Pe(et(""),2),l=u[0],f=u[1],p=Pe(et(null),2),h=p[0],d=p[1],v=Pe(et(null),2),y=v[0],g=v[1],m=Pe(et({closeTabsAfterSave:!1,usePinProtection:!1,pin:"",autoBackup:!0,password:""}),2),w=m[0],x=m[1],_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";"error"===e&&Ie.showNotification(t,e),console.log("".concat(e,": ").concat(t))},k=new Bt;function E(){return L.apply(this,arguments)}function L(){return L=je(Se().mark((function t(){var e,r,n,o,i,c,s,u;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,console.log("loadTabGroups called, searchQuery:",l),!l){t.next=10;break}return console.log("Calling searchTabGroups with query:",l),t.next=6,k.searchTabGroups(l);case 6:e=t.sent,console.log("Search returned",e.length,"results"),t.next=14;break;case 10:return console.log("Getting all tab groups"),t.next=13,k.getAllTabGroups();case 13:e=t.sent;case 14:if(console.log("Processing search results..."),!l){t.next=23;break}for(console.log("Search mode: Will display results directly without reloading full data"),r=[],n=0;n<e.length;n++)try{o=e[n],console.log("Including search result ".concat(n+1,"/").concat(e.length,": Group ID ").concat(o.id,", Name: ").concat(o.name)),r.push(Ne(Ne({},o),{},{tabCount:o.tabCount||0,_searchMatch:!0}))}catch(t){console.error("Error processing search result ".concat(null===(i=e[n])||void 0===i?void 0:i.id,":"),t)}console.log("Setting tab groups with ".concat(r.length," search results")),a(r),t.next=35;break;case 23:console.log("Normal mode: Loading full data for each group"),c=[],s=Se().mark((function t(){var r,n;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e[u],t.next=4,k.getTabGroup(r.id);case 4:(n=t.sent)&&void 0===n.orderIndex&&(n.orderIndex=u,k.updateTabGroup(n.id,{orderIndex:u}).catch((function(t){return console.error("Error setting initial orderIndex for group ".concat(n.id,":"),t)}))),n&&(n.tabCount=n.tabs?n.tabs.length:0,c.push(n)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Error loading group ".concat(group.id,":"),t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})),u=0;case 28:if(!(u<e.length)){t.next=33;break}return t.delegateYield(s(),"t0",30);case 30:u++,t.next=28;break;case 33:console.log("Setting tab groups with ".concat(c.length," groups from normal load")),a(c);case 35:t.next=41;break;case 37:throw t.prev=37,t.t1=t.catch(0),console.error("Error loading tab groups:",t.t1),t.t1;case 41:case"end":return t.stop()}}),t,null,[[0,37]])}))),L.apply(this,arguments)}function N(){return T.apply(this,arguments)}function T(){return(T=je(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,chrome.runtime.sendMessage({action:"getOptions"},(function(t){t&&t.success&&t.options&&x(t.options)})),t.next=8;break;case 4:throw t.prev=4,t.t0=t.catch(0),console.error("Error loading settings:",t.t0),t.t0;case 8:case"end":return t.stop()}}),t,null,[[0,4]])})))).apply(this,arguments)}new se,rt((function(){function t(){return(t=je(Se().mark((function t(){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E();case 3:return t.next=5,N();case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error loading data:",t.t0),_("Error loading data","error");case 11:return t.prev=11,s(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,7,11,14]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var S=function(){var t=je(Se().mark((function t(e){var r;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=o.find((function(t){return t.id===e})),r&&r.tabs){t.next=5;break}return setMessage({type:"error",text:"Tab group not found or empty"}),t.abrupt("return");case 5:chrome.runtime.sendMessage({action:"restoreTabs",data:{tabs:r.tabs,keepSaved:!0}},(function(t){t&&t.success?(setMessage({type:"success",text:"Restored ".concat(t.count," tabs!")}),setTimeout((function(){return setMessage(null)}),3e3)):setMessage({type:"error",text:(null==t?void 0:t.error)||"Error restoring tabs"})})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error restoring tab group:",t.t0),setMessage({type:"error",text:"Error restoring tabs: ".concat(t.t0.message)});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=je(Se().mark((function t(e){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{chrome.runtime.sendMessage({action:"restoreTabs",data:{tabs:[e],keepSaved:!0}},(function(t){t&&t.success?(setMessage({type:"success",text:"Tab restored!"}),setTimeout((function(){return setMessage(null)}),2e3)):setMessage({type:"error",text:(null==t?void 0:t.error)||"Error restoring tab"})}))}catch(t){console.error("Error restoring tab:",t),setMessage({type:"error",text:"Error restoring tab: ".concat(t.message)})}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=je(Se().mark((function t(e){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,confirm("Are you sure you want to delete this tab group?")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,k.deleteTabGroup(e);case 5:return t.next=7,E();case 7:_("Tab group deleted!","success"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Error deleting tab group:",t.t0),_("Error deleting tab group: ".concat(t.t0.message),"error");case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),P=function(){var t=je(Se().mark((function t(e,r){var n,i,c,s=arguments;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!(s.length>2&&void 0!==s[2])||s[2],t.prev=1,i=o.findIndex((function(t){return t.id===e})),-1!==i){t.next=5;break}return t.abrupt("return");case 5:if((c=_e(o))[i]=Ne(Ne({},c[i]),r),a(c),!n){t.next=11;break}return t.next=11,k.updateTabGroup(e,r);case 11:_("Group updated!","success"),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),console.error("Error updating group:",t.t0),_("Error updating group: ".concat(t.t0.message),"error");case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e,r){return t.apply(this,arguments)}}(),C=function(){var t=je(Se().mark((function t(e,r,n){var i,c,s,u,l;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=o.findIndex((function(t){return t.id===e})),-1!==i){t.next=4;break}return t.abrupt("return");case 4:return c=o[i],(s=_e(c.tabs))[r]=n,u=Ne(Ne({},c),{},{tabs:s}),(l=_e(o))[i]=u,a(l),t.next=13,k.updateTabGroup(e,{tabs:s});case 13:_("Tab updated!","success"),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),console.error("Error updating tab:",t.t0),_("Error updating tab: ".concat(t.t0.message),"error");case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e,r,n){return t.apply(this,arguments)}}(),A=function(){var t=je(Se().mark((function t(e,r,n){var i,c,s,u,l,f,p,h;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=o.findIndex((function(t){return t.id===e})),-1!==i){t.next=4;break}return t.abrupt("return");case 4:return c=o[i],s=_e(c.tabs),u=s.splice(r,1),l=Pe(u,1),f=l[0],s.splice(n,0,f),p=Ne(Ne({},c),{},{tabs:s}),(h=_e(o))[i]=p,a(h),t.next=14,k.updateTabGroup(e,{tabs:s});case 14:_("Tab order updated!","success"),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),console.error("Error reordering tabs:",t.t0),_("Error updating tab order: ".concat(t.t0.message),"error");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e,r,n){return t.apply(this,arguments)}}(),I=function(){var t=je(Se().mark((function t(e,r){var n,i,c,s,u,l;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),null===h||h===r){t.next=24;break}for(t.prev=2,n=_e(o),i=n.splice(h,1),c=Pe(i,1),s=c[0],n.splice(r,0,s),a(n),u=[],l=0;l<n.length;l++)u.push(k.updateTabGroup(n[l].id,{orderIndex:l}));return t.next=11,Promise.all(u);case 11:_("Group order updated!","success"),t.next=20;break;case 14:return t.prev=14,t.t0=t.catch(2),console.error("Error reordering groups:",t.t0),setMessage({type:"error",text:"Error updating group order: ".concat(t.t0.message)}),t.next=20,E();case 20:return t.prev=20,d(null),g(null),t.finish(20);case 24:case"end":return t.stop()}}),t,null,[[2,14,20,24]])})));return function(e,r){return t.apply(this,arguments)}}(),G=function(){d(null),g(null)},D=function(){var t=je(Se().mark((function t(e){var r,n,o;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.groups){t.next=21;break}r=ke(e.groups),t.prev=3,r.s();case 5:if((n=r.n()).done){t.next=11;break}return o=n.value,t.next=9,k.saveTabGroup(o);case 9:t.next=5;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:t.next=24;break;case 21:if(!e.tabs){t.next=24;break}return t.next=24,k.saveTabGroup(e);case 24:return t.next=26,E();case 26:t.next=32;break;case 28:t.prev=28,t.t1=t.catch(0),console.error("Error processing import:",t.t1),setMessage({type:"error",text:"Error processing import: ".concat(t.t1.message)});case 32:case"end":return t.stop()}}),t,null,[[0,28],[3,13,16,19]])})));return function(e){return t.apply(this,arguments)}}(),F=function(){var t=je(Se().mark((function t(e){return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{chrome.runtime.sendMessage({action:"setOptions",options:e},(function(t){t&&t.success?(x(e),setMessage({type:"success",text:"Settings saved!"}),setTimeout((function(){return setMessage(null)}),2e3)):setMessage({type:"error",text:(null==t?void 0:t.error)||"Error saving settings"})}))}catch(t){console.error("Error saving settings:",t),setMessage({type:"error",text:"Error saving settings: ".concat(t.message)})}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return b("div",{className:"options-container"},b("header",{className:"app-header"},b("h1",null,"TabLocker"),b("div",{className:"app-subtitle"},"Secure Tab Management")),b("nav",{className:"app-nav"},b("ul",{className:"nav-tabs"},b("li",{className:"tabs"===e?"active":"",onClick:function(){return r("tabs")}},b(We,{name:"database"})," Saved Tabs"),b("li",{className:"tags"===e?"active":"",onClick:function(){return r("tags")}},b(We,{name:"tag"})," Tags"),b("li",{className:"export-import"===e?"active":"",onClick:function(){return r("export-import")}},b(We,{name:"share"})," Export/Import"),b("li",{className:"settings"===e?"active":"",onClick:function(){return r("settings")}},b(We,{name:"settings"})," Settings"))),b("main",{className:"app-content"},"tabs"===e&&b("div",{className:"tabs-container"},b(Fe,{onSearch:function(t){console.log("handleSearch called with query:",t),s(!0),f(t);var e=function(){var e=je(Se().mark((function e(){var r,n,o,i,c,u,l,f;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("Performing search with query:",t),!t){e.next=10;break}return console.log("Calling searchTabGroups with query:",t),e.next=6,k.searchTabGroups(t);case 6:r=e.sent,console.log("Search returned",r.length,"results"),e.next=14;break;case 10:return console.log("Getting all tab groups"),e.next=13,k.getAllTabGroups();case 13:r=e.sent;case 14:if(console.log("Processing search results..."),!t){e.next=23;break}for(console.log("Search mode: Will display results directly without reloading full data"),n=[],o=0;o<r.length;o++)try{i=r[o],console.log("Including search result ".concat(o+1,"/").concat(r.length,": Group ID ").concat(i.id,", Name: ").concat(i.name)),n.push(Ne(Ne({},i),{},{tabCount:i.tabCount||0,_searchMatch:!0}))}catch(t){console.error("Error processing search result ".concat(null===(c=r[o])||void 0===c?void 0:c.id,":"),t)}console.log("Setting tab groups with ".concat(n.length," search results")),a(n),e.next=35;break;case 23:console.log("Normal mode: Loading full data for each group"),u=[],l=Se().mark((function t(){var e,n;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=r[f],t.next=4,k.getTabGroup(e.id);case 4:(n=t.sent)&&void 0===n.orderIndex&&(n.orderIndex=f,k.updateTabGroup(n.id,{orderIndex:f}).catch((function(t){return console.error("Error setting initial orderIndex for group ".concat(n.id,":"),t)}))),n&&(n.tabCount=n.tabs?n.tabs.length:0,u.push(n)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Error loading group ".concat(group.id,":"),t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})),f=0;case 28:if(!(f<r.length)){e.next=33;break}return e.delegateYield(l(),"t0",30);case 30:f++,e.next=28;break;case 33:console.log("Setting tab groups with ".concat(u.length," groups from normal load")),a(u);case 35:e.next=40;break;case 37:e.prev=37,e.t1=e.catch(0),console.error("Error loading tab groups:",e.t1);case 40:return e.prev=40,s(!1),e.finish(40);case 43:case"end":return e.stop()}}),e,null,[[0,37,40,43]])})));return function(){return e.apply(this,arguments)}}();e()}}),c?b("div",{className:"loading"},"Loading..."):0===o.length?b("div",{className:"empty-state"},b("p",null,"No saved tabs found."),l&&b("p",null,"Try a different search query.")):b("div",{className:"tab-groups-list"},o.map((function(t,e){return b("div",{key:t.id,className:"group-container ".concat(h===e?"group-dragging":""," ").concat(y===e?"group-drag-over":""),draggable:o.every((function(t){return!t.isEditing})),onDragStart:function(){return function(t){o.some((function(t){return t.isEditing}))||d(t)}(e)},onDragOver:function(t){return function(t,e){t.preventDefault(),null!==h&&h!==e&&g(e)}(t,e)},onDrop:function(t){return I(t,e)},onDragEnd:G},b(De,{key:t.id,group:t,onRestore:S,onDelete:j,onRestoreTab:O,onReorderTabs:A,onUpdateGroup:P,onUpdateTab:C}))})))),"export-import"===e&&b(Me,{onImport:D,showToast:_}),"settings"===e&&b(Ue,{settings:w,onSaveSettings:F}),"tags"===e&&b(Be,{onTagsUpdate:function(){return E()}})),b("footer",{className:"app-footer"},b("div",{className:"footer-info"},b("span",null,"TabLocker"),b("span",{className:"separator"},"|"),b("span",{className:"privacy-note"},"100% Private & Encrypted"),b("span",{className:"separator"},"|"),b("a",{href:"https://github.com/your-username/tablocker",target:"_blank",rel:"noopener noreferrer"},"GitHub"))))}),null),document.getElementById("app"))})()})();