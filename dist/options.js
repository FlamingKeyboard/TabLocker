/*! For license information please see options.js.LICENSE.txt */
(()=>{var t={992:(t,e,r)=>{var n,o=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function o(t,e){if(!n[t]){n[t]={};for(var r=0;r<t.length;r++)n[t][t.charAt(r)]=r}return n[t][e]}var a={compressToBase64:function(t){if(null==t)return"";var r=a._compress(t,6,(function(t){return e.charAt(t)}));switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:a._decompress(t.length,32,(function(r){return o(e,t.charAt(r))}))},compressToUTF16:function(e){return null==e?"":a._compress(e,15,(function(e){return t(e+32)}))+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:a._decompress(t.length,16384,(function(e){return t.charCodeAt(e)-32}))},compressToUint8Array:function(t){for(var e=a.compress(t),r=new Uint8Array(2*e.length),n=0,o=e.length;n<o;n++){var i=e.charCodeAt(n);r[2*n]=i>>>8,r[2*n+1]=i%256}return r},decompressFromUint8Array:function(e){if(null==e)return a.decompress(e);for(var r=new Array(e.length/2),n=0,o=r.length;n<o;n++)r[n]=256*e[2*n]+e[2*n+1];var i=[];return r.forEach((function(e){i.push(t(e))})),a.decompress(i.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":a._compress(t,6,(function(t){return r.charAt(t)}))},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),a._decompress(t.length,32,(function(e){return o(r,t.charAt(e))})))},compress:function(e){return a._compress(e,16,(function(e){return t(e)}))},_compress:function(t,e,r){if(null==t)return"";var n,o,a,i={},c={},s="",u="",l="",p=2,f=3,h=2,d=[],v=0,y=0;for(a=0;a<t.length;a+=1)if(s=t.charAt(a),Object.prototype.hasOwnProperty.call(i,s)||(i[s]=f++,c[s]=!0),u=l+s,Object.prototype.hasOwnProperty.call(i,u))l=u;else{if(Object.prototype.hasOwnProperty.call(c,l)){if(l.charCodeAt(0)<256){for(n=0;n<h;n++)v<<=1,y==e-1?(y=0,d.push(r(v)),v=0):y++;for(o=l.charCodeAt(0),n=0;n<8;n++)v=v<<1|1&o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o>>=1}else{for(o=1,n=0;n<h;n++)v=v<<1|o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o=0;for(o=l.charCodeAt(0),n=0;n<16;n++)v=v<<1|1&o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o>>=1}0==--p&&(p=Math.pow(2,h),h++),delete c[l]}else for(o=i[l],n=0;n<h;n++)v=v<<1|1&o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o>>=1;0==--p&&(p=Math.pow(2,h),h++),i[u]=f++,l=String(s)}if(""!==l){if(Object.prototype.hasOwnProperty.call(c,l)){if(l.charCodeAt(0)<256){for(n=0;n<h;n++)v<<=1,y==e-1?(y=0,d.push(r(v)),v=0):y++;for(o=l.charCodeAt(0),n=0;n<8;n++)v=v<<1|1&o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o>>=1}else{for(o=1,n=0;n<h;n++)v=v<<1|o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o=0;for(o=l.charCodeAt(0),n=0;n<16;n++)v=v<<1|1&o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o>>=1}0==--p&&(p=Math.pow(2,h),h++),delete c[l]}else for(o=i[l],n=0;n<h;n++)v=v<<1|1&o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o>>=1;0==--p&&(p=Math.pow(2,h),h++)}for(o=2,n=0;n<h;n++)v=v<<1|1&o,y==e-1?(y=0,d.push(r(v)),v=0):y++,o>>=1;for(;;){if(v<<=1,y==e-1){d.push(r(v));break}y++}return d.join("")},decompress:function(t){return null==t?"":""==t?null:a._decompress(t.length,32768,(function(e){return t.charCodeAt(e)}))},_decompress:function(e,r,n){var o,a,i,c,s,u,l,p=[],f=4,h=4,d=3,v="",y=[],m={val:n(0),position:r,index:1};for(o=0;o<3;o+=1)p[o]=o;for(i=0,s=Math.pow(2,2),u=1;u!=s;)c=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),i|=(c>0?1:0)*u,u<<=1;switch(i){case 0:for(i=0,s=Math.pow(2,8),u=1;u!=s;)c=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),i|=(c>0?1:0)*u,u<<=1;l=t(i);break;case 1:for(i=0,s=Math.pow(2,16),u=1;u!=s;)c=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),i|=(c>0?1:0)*u,u<<=1;l=t(i);break;case 2:return""}for(p[3]=l,a=l,y.push(l);;){if(m.index>e)return"";for(i=0,s=Math.pow(2,d),u=1;u!=s;)c=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),i|=(c>0?1:0)*u,u<<=1;switch(l=i){case 0:for(i=0,s=Math.pow(2,8),u=1;u!=s;)c=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),i|=(c>0?1:0)*u,u<<=1;p[h++]=t(i),l=h-1,f--;break;case 1:for(i=0,s=Math.pow(2,16),u=1;u!=s;)c=m.val&m.position,m.position>>=1,0==m.position&&(m.position=r,m.val=n(m.index++)),i|=(c>0?1:0)*u,u<<=1;p[h++]=t(i),l=h-1,f--;break;case 2:return y.join("")}if(0==f&&(f=Math.pow(2,d),d++),p[l])v=p[l];else{if(l!==h)return null;v=a+a.charAt(0)}y.push(v),p[h++]=a+v.charAt(0),a=v,0==--f&&(f=Math.pow(2,d),d++)}}};return a}();void 0===(n=function(){return o}.call(e,r,e,t))||(t.exports=n)}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,r),a.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t,e,n,o,a,i,c,s,u,l,p,f={},h=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,v=Array.isArray;function y(t,e){for(var r in e)t[r]=e[r];return t}function m(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function g(e,r,n){var o,a,i,c={};for(i in r)"key"==i?o=r[i]:"ref"==i?a=r[i]:c[i]=r[i];if(arguments.length>2&&(c.children=arguments.length>3?t.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===c[i]&&(c[i]=e.defaultProps[i]);return b(e,c,o,a,null)}function b(t,r,o,a,i){var c={type:t,props:r,key:o,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==i?++n:i,__i:-1,__u:0};return null==i&&null!=e.vnode&&e.vnode(c),c}function w(t){return t.children}function _(t,e){this.props=t,this.context=e}function x(t,e){if(null==e)return t.__?x(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e)return r.__e;return"function"==typeof t.type?x(t):null}function k(t){var e,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return k(t)}}function E(t){(!t.__d&&(t.__d=!0)&&o.push(t)&&!L.__r++||a!==e.debounceRendering)&&((a=e.debounceRendering)||i)(L)}function L(){for(var t,r,n,a,i,s,u,l=1;o.length;)o.length>l&&o.sort(c),t=o.shift(),l=o.length,t.__d&&(n=void 0,i=(a=(r=t).__v).__e,s=[],u=[],r.__P&&((n=y({},a)).__v=a.__v+1,e.vnode&&e.vnode(n),A(r.__P,n,a,r.__n,r.__P.namespaceURI,32&a.__u?[i]:null,s,null==i?x(a):i,!!(32&a.__u),u),n.__v=a.__v,n.__.__k[n.__i]=n,I(s,n,u),n.__e!=i&&k(n)));L.__r=0}function S(t,e,r,n,o,a,i,c,s,u,l){var p,d,v,y,m,g,b=n&&n.__k||h,w=e.length;for(s=N(r,e,b,s,w),p=0;p<w;p++)null!=(v=r.__k[p])&&(d=-1===v.__i?f:b[v.__i]||f,v.__i=p,g=A(t,v,d,o,a,i,c,s,u,l),y=v.__e,v.ref&&d.ref!=v.ref&&(d.ref&&G(d.ref,null,v),l.push(v.ref,v.__c||y,v)),null==m&&null!=y&&(m=y),4&v.__u||d.__k===v.__k?s=O(v,s,t):"function"==typeof v.type&&void 0!==g?s=g:y&&(s=y.nextSibling),v.__u&=-7);return r.__e=m,s}function N(t,e,r,n,o){var a,i,c,s,u,l=r.length,p=l,f=0;for(t.__k=new Array(o),a=0;a<o;a++)null!=(i=e[a])&&"boolean"!=typeof i&&"function"!=typeof i?(s=a+f,(i=t.__k[a]="string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?b(null,i,null,null,null):v(i)?b(w,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?b(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,c=null,-1!==(u=i.__i=j(i,r,s,p))&&(p--,(c=r[u])&&(c.__u|=2)),null==c||null===c.__v?(-1==u&&(o>l?f--:o<l&&f++),"function"!=typeof i.type&&(i.__u|=4)):u!=s&&(u==s-1?f--:u==s+1?f++:(u>s?f--:f++,i.__u|=4))):t.__k[a]=null;if(p)for(a=0;a<l;a++)null!=(c=r[a])&&!(2&c.__u)&&(c.__e==n&&(n=x(c)),M(c,c));return n}function O(t,e,r){var n,o;if("function"==typeof t.type){for(n=t.__k,o=0;n&&o<n.length;o++)n[o]&&(n[o].__=t,e=O(n[o],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=x(t)),r.insertBefore(t.__e,e||null),e=t.__e);do{e=e&&e.nextSibling}while(null!=e&&8==e.nodeType);return e}function j(t,e,r,n){var o,a,i=t.key,c=t.type,s=e[r];if(null===s&&null==t.key||s&&i==s.key&&c===s.type&&!(2&s.__u))return r;if(n>(null==s||2&s.__u?0:1))for(o=r-1,a=r+1;o>=0||a<e.length;){if(o>=0){if((s=e[o])&&!(2&s.__u)&&i==s.key&&c===s.type)return o;o--}if(a<e.length){if((s=e[a])&&!(2&s.__u)&&i==s.key&&c===s.type)return a;a++}}return-1}function T(t,e,r){"-"==e[0]?t.setProperty(e,null==r?"":r):t[e]=null==r?"":"number"!=typeof r||d.test(e)?r:r+"px"}function P(t,e,r,n,o){var a;t:if("style"==e)if("string"==typeof r)t.style.cssText=r;else{if("string"==typeof n&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||T(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||T(t.style,e,r[e])}else if("o"==e[0]&&"n"==e[1])a=e!=(e=e.replace(s,"$1")),e=e.toLowerCase()in t||"onFocusOut"==e||"onFocusIn"==e?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=r,r?n?r.t=n.t:(r.t=u,t.addEventListener(e,a?p:l,a)):t.removeEventListener(e,a?p:l,a);else{if("http://www.w3.org/2000/svg"==o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=e&&"height"!=e&&"href"!=e&&"list"!=e&&"form"!=e&&"tabIndex"!=e&&"download"!=e&&"rowSpan"!=e&&"colSpan"!=e&&"role"!=e&&"popover"!=e&&e in t)try{t[e]=null==r?"":r;break t}catch(t){}"function"==typeof r||(null==r||!1===r&&"-"!=e[4]?t.removeAttribute(e):t.setAttribute(e,"popover"==e&&1==r?"":r))}}function C(t){return function(r){if(this.l){var n=this.l[r.type+t];if(null==r.u)r.u=u++;else if(r.u<n.t)return;return n(e.event?e.event(r):r)}}}function A(t,r,n,o,a,i,c,s,u,l){var p,f,h,d,g,b,x,k,E,L,N,O,j,T,P,C,A,I=r.type;if(void 0!==r.constructor)return null;128&n.__u&&(u=!!(32&n.__u),i=[s=r.__e=n.__e]),(p=e.__b)&&p(r);t:if("function"==typeof I)try{if(k=r.props,E="prototype"in I&&I.prototype.render,L=(p=I.contextType)&&o[p.__c],N=p?L?L.props.value:p.__:o,n.__c?x=(f=r.__c=n.__c).__=f.__E:(E?r.__c=f=new I(k,N):(r.__c=f=new _(k,N),f.constructor=I,f.render=B),L&&L.sub(f),f.props=k,f.state||(f.state={}),f.context=N,f.__n=o,h=f.__d=!0,f.__h=[],f._sb=[]),E&&null==f.__s&&(f.__s=f.state),E&&null!=I.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=y({},f.__s)),y(f.__s,I.getDerivedStateFromProps(k,f.__s))),d=f.props,g=f.state,f.__v=r,h)E&&null==I.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),E&&null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(E&&null==I.getDerivedStateFromProps&&k!==d&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(k,N),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(k,f.__s,N)||r.__v==n.__v)){for(r.__v!=n.__v&&(f.props=k,f.state=f.__s,f.__d=!1),r.__e=n.__e,r.__k=n.__k,r.__k.some((function(t){t&&(t.__=r)})),O=0;O<f._sb.length;O++)f.__h.push(f._sb[O]);f._sb=[],f.__h.length&&c.push(f);break t}null!=f.componentWillUpdate&&f.componentWillUpdate(k,f.__s,N),E&&null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(d,g,b)}))}if(f.context=N,f.props=k,f.__P=t,f.__e=!1,j=e.__r,T=0,E){for(f.state=f.__s,f.__d=!1,j&&j(r),p=f.render(f.props,f.state,f.context),P=0;P<f._sb.length;P++)f.__h.push(f._sb[P]);f._sb=[]}else do{f.__d=!1,j&&j(r),p=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++T<25);f.state=f.__s,null!=f.getChildContext&&(o=y(y({},o),f.getChildContext())),E&&!h&&null!=f.getSnapshotBeforeUpdate&&(b=f.getSnapshotBeforeUpdate(d,g)),C=p,null!=p&&p.type===w&&null==p.key&&(C=F(p.props.children)),s=S(t,v(C)?C:[C],r,n,o,a,i,c,s,u,l),f.base=r.__e,r.__u&=-161,f.__h.length&&c.push(f),x&&(f.__E=f.__=null)}catch(t){if(r.__v=null,u||null!=i)if(t.then){for(r.__u|=u?160:128;s&&8==s.nodeType&&s.nextSibling;)s=s.nextSibling;i[i.indexOf(s)]=null,r.__e=s}else for(A=i.length;A--;)m(i[A]);else r.__e=n.__e,r.__k=n.__k;e.__e(t,r,n)}else null==i&&r.__v==n.__v?(r.__k=n.__k,r.__e=n.__e):s=r.__e=D(n.__e,r,n,o,a,i,c,u,l);return(p=e.diffed)&&p(r),128&r.__u?void 0:s}function I(t,r,n){for(var o=0;o<n.length;o++)G(n[o],n[++o],n[++o]);e.__c&&e.__c(r,t),t.some((function(r){try{t=r.__h,r.__h=[],t.some((function(t){t.call(r)}))}catch(t){e.__e(t,r.__v)}}))}function F(t){return"object"!=typeof t||null==t?t:v(t)?t.map(F):y({},t)}function D(r,n,o,a,i,c,s,u,l){var p,h,d,y,g,b,w,_=o.props,k=n.props,E=n.type;if("svg"==E?i="http://www.w3.org/2000/svg":"math"==E?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=c)for(p=0;p<c.length;p++)if((g=c[p])&&"setAttribute"in g==!!E&&(E?g.localName==E:3==g.nodeType)){r=g,c[p]=null;break}if(null==r){if(null==E)return document.createTextNode(k);r=document.createElementNS(i,E,k.is&&k),u&&(e.__m&&e.__m(n,c),u=!1),c=null}if(null===E)_===k||u&&r.data===k||(r.data=k);else{if(c=c&&t.call(r.childNodes),_=o.props||f,!u&&null!=c)for(_={},p=0;p<r.attributes.length;p++)_[(g=r.attributes[p]).name]=g.value;for(p in _)if(g=_[p],"children"==p);else if("dangerouslySetInnerHTML"==p)d=g;else if(!(p in k)){if("value"==p&&"defaultValue"in k||"checked"==p&&"defaultChecked"in k)continue;P(r,p,null,g,i)}for(p in k)g=k[p],"children"==p?y=g:"dangerouslySetInnerHTML"==p?h=g:"value"==p?b=g:"checked"==p?w=g:u&&"function"!=typeof g||_[p]===g||P(r,p,g,_[p],i);if(h)u||d&&(h.__html===d.__html||h.__html===r.innerHTML)||(r.innerHTML=h.__html),n.__k=[];else if(d&&(r.innerHTML=""),S("template"===n.type?r.content:r,v(y)?y:[y],n,o,a,"foreignObject"==E?"http://www.w3.org/1999/xhtml":i,c,s,c?c[0]:o.__k&&x(o,0),u,l),null!=c)for(p=c.length;p--;)m(c[p]);u||(p="value","progress"==E&&null==b?r.removeAttribute("value"):void 0!==b&&(b!==r[p]||"progress"==E&&!b||"option"==E&&b!==_[p])&&P(r,p,b,_[p],i),p="checked",void 0!==w&&w!==r[p]&&P(r,p,w,_[p],i))}return r}function G(t,r,n){try{if("function"==typeof t){var o="function"==typeof t.__u;o&&t.__u(),o&&null==r||(t.__u=t(r))}else t.current=r}catch(t){e.__e(t,n)}}function M(t,r,n){var o,a;if(e.unmount&&e.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||G(o,null,r)),null!=(o=t.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(t){e.__e(t,r)}o.base=o.__P=null}if(o=t.__k)for(a=0;a<o.length;a++)o[a]&&M(o[a],r,n||"function"!=typeof t.type);n||m(t.__e),t.__c=t.__=t.__e=void 0}function B(t,e,r){return this.constructor(t,r)}t=h.slice,e={__e:function(t,e,r,n){for(var o,a,i;e=e.__;)if((o=e.__c)&&!o.__)try{if((a=o.constructor)&&null!=a.getDerivedStateFromError&&(o.setState(a.getDerivedStateFromError(t)),i=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(t,n||{}),i=o.__d),i)return o.__E=o}catch(e){t=e}throw t}},n=0,_.prototype.setState=function(t,e){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=y({},this.state),"function"==typeof t&&(t=t(y({},r),this.props)),t&&y(r,t),null!=t&&this.__v&&(e&&this._sb.push(e),E(this))},_.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),E(this))},_.prototype.render=w,o=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=function(t,e){return t.__v.__b-e.__v.__b},L.__r=0,s=/(PointerCapture)$|Capture$/i,u=0,l=C(!1),p=C(!0);var U,W,H,R,z=0,q=[],K=e,V=K.__b,J=K.__r,Y=K.diffed,$=K.__c,Q=K.unmount,X=K.__;function Z(t,e){K.__h&&K.__h(W,t,z||e),z=0;var r=W.__H||(W.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function tt(t){return z=1,function(t,e){var r=Z(U++,2);if(r.t=t,!r.__c&&(r.__=[ut(void 0,e),function(t){var e=r.__N?r.__N[0]:r.__[0],n=r.t(e,t);e!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=W,!W.__f)){var n=function(t,e,n){if(!r.__c.__H)return!0;var a=r.__c.__H.__.filter((function(t){return!!t.__c}));if(a.every((function(t){return!t.__N})))return!o||o.call(this,t,e,n);var i=r.__c.props!==t;return a.forEach((function(t){if(t.__N){var e=t.__[0];t.__=t.__N,t.__N=void 0,e!==t.__[0]&&(i=!0)}})),o&&o.call(this,t,e,n)||i};W.__f=!0;var o=W.shouldComponentUpdate,a=W.componentWillUpdate;W.componentWillUpdate=function(t,e,r){if(this.__e){var i=o;o=void 0,n(t,e,r),o=i}a&&a.call(this,t,e,r)},W.shouldComponentUpdate=n}return r.__N||r.__}(ut,t)}function et(t,e){var r=Z(U++,3);!K.__s&&st(r.__H,e)&&(r.__=t,r.u=e,W.__H.__h.push(r))}function rt(t){return z=5,function(t,e){var r=Z(U++,7);return st(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}((function(){return{current:t}}),[])}function nt(){for(var t;t=q.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(it),t.__H.__h.forEach(ct),t.__H.__h=[]}catch(e){t.__H.__h=[],K.__e(e,t.__v)}}K.__b=function(t){W=null,V&&V(t)},K.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),X&&X(t,e)},K.__r=function(t){J&&J(t),U=0;var e=(W=t.__c).__H;e&&(H===W?(e.__h=[],W.__h=[],e.__.forEach((function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0}))):(e.__h.forEach(it),e.__h.forEach(ct),e.__h=[],U=0)),H=W},K.diffed=function(t){Y&&Y(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==q.push(e)&&R===K.requestAnimationFrame||((R=K.requestAnimationFrame)||at)(nt)),e.__H.__.forEach((function(t){t.u&&(t.__H=t.u),t.u=void 0}))),H=W=null},K.__c=function(t,e){e.some((function(t){try{t.__h.forEach(it),t.__h=t.__h.filter((function(t){return!t.__||ct(t)}))}catch(r){e.some((function(t){t.__h&&(t.__h=[])})),e=[],K.__e(r,t.__v)}})),$&&$(t,e)},K.unmount=function(t){Q&&Q(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach((function(t){try{it(t)}catch(t){e=t}})),r.__H=void 0,e&&K.__e(e,r.__v))};var ot="function"==typeof requestAnimationFrame;function at(t){var e,r=function(){clearTimeout(n),ot&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);ot&&(e=requestAnimationFrame(r))}function it(t){var e=W,r=t.__c;"function"==typeof r&&(t.__c=void 0,r()),W=e}function ct(t){var e=W;t.__c=t.__(),W=e}function st(t,e){return!t||t.length!==e.length||e.some((function(e,r){return e!==t[r]}))}function ut(t,e){return"function"==typeof e?e(t):e}var lt=r(992),pt=r.n(lt);function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dt(n.key),n)}}function dt(t){var e=function(t){if("object"!=ft(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ft(e)?e:e+""}var vt=function(){return function(t,e){return e&&ht(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),[{key:"compress",value:function(t){var e="object"===ft(t)?JSON.stringify(t):String(t);return pt().compressToUTF16(e)}},{key:"decompress",value:function(t){var e=pt().decompressFromUTF16(t);if(!e)return null;try{return JSON.parse(e)}catch(t){return e}}},{key:"compressToBase64",value:function(t){var e="object"===ft(t)?JSON.stringify(t):String(t);return pt().compressToBase64(e)}},{key:"decompressFromBase64",value:function(t){var e=pt().decompressFromBase64(t);if(!e)return null;try{return JSON.parse(e)}catch(t){return e}}}])}();const yt=vt;function mt(t){return function(t){if(Array.isArray(t))return gt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return gt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function wt(){wt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:S(t,r,c)}),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==r&&n.call(x,i)&&(w=x);var k=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,i,c){var s=p(t[o],t,a);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==bt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(l).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,r,n){var o=f;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=N(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=p(e,r,n);if("normal"===u.type){if(o=n.done?v:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function N(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,N(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=p(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(bt(e)+" is not iterable")}return g.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},E(L.prototype),u(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(k),u(k,s,"Generator"),u(k,i,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function _t(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function xt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){_t(a,n,o,i,c,"next",t)}function c(t){_t(a,n,o,i,c,"throw",t)}i(void 0)}))}}function kt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Et(n.key),n)}}function Et(t){var e=function(t){if("object"!=bt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==bt(e)?e:e+""}var Lt=function(){return function(t,e){return e&&kt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.password=e,this.algorithm={name:"AES-GCM",length:256},this.ivLength=12,this.saltLength=16,this.iterations=1e5,this.cryptoObj=globalThis.crypto}),[{key:"setPassword",value:function(t){this.password=t}},{key:"deriveKey",value:(a=xt(wt().mark((function t(e,r){var n,o;return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new TextEncoder,t.next=3,this.cryptoObj.subtle.importKey("raw",n.encode(e),{name:"PBKDF2"},!1,["deriveBits","deriveKey"]);case 3:return o=t.sent,t.abrupt("return",this.cryptoObj.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:this.iterations,hash:"SHA-256"},o,this.algorithm,!1,["encrypt","decrypt"]));case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})},{key:"generateKey",value:(o=xt(wt().mark((function t(){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.cryptoObj.subtle.generateKey(this.algorithm,!0,["encrypt","decrypt"]));case 1:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"exportKey",value:(n=xt(wt().mark((function t(e){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.cryptoObj.subtle.exportKey("raw",e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"importKey",value:(r=xt(wt().mark((function t(e){return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.cryptoObj.subtle.importKey("raw",e,this.algorithm,!1,["encrypt","decrypt"]));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"encrypt",value:(e=xt(wt().mark((function t(e){var r,n,o,a,i,c,s,u,l,p=arguments;return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(p.length>1&&void 0!==p[1]?p[1]:null)||this.password){t.next=4;break}throw new Error("No password set for encryption");case 4:return n=this.cryptoObj.getRandomValues(new Uint8Array(this.saltLength)),o=this.cryptoObj.getRandomValues(new Uint8Array(this.ivLength)),t.next=8,this.deriveKey(r,n);case 8:return a=t.sent,i=new TextEncoder,c="object"===bt(e)?JSON.stringify(e):String(e),s=i.encode(c),t.next=14,this.cryptoObj.subtle.encrypt({name:"AES-GCM",iv:o},a,s);case 14:return u=t.sent,(l=new Uint8Array(n.length+o.length+u.byteLength)).set(n,0),l.set(o,n.length),l.set(new Uint8Array(u),n.length+o.length),t.abrupt("return",btoa(String.fromCharCode.apply(String,mt(l))));case 20:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"decrypt",value:(t=xt(wt().mark((function t(e){var r,n,o,a,i,c,s,u,l,p=arguments;return wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(p.length>1&&void 0!==p[1]?p[1]:null)||this.password){t.next=4;break}throw new Error("No password set for decryption");case 4:if(t.prev=4,e&&"string"==typeof e){t.next=7;break}throw new Error("Invalid encrypted data format");case 7:t.prev=7,n=Uint8Array.from(atob(e),(function(t){return t.charCodeAt(0)})),t.next=15;break;case 11:throw t.prev=11,t.t0=t.catch(7),console.error("Error decoding Base64:",t.t0),new Error("Invalid Base64 data format");case 15:if(!(n.length<=this.saltLength+this.ivLength)){t.next=17;break}throw new Error("Encrypted data is too short");case 17:return o=n.slice(0,this.saltLength),a=n.slice(this.saltLength,this.saltLength+this.ivLength),i=n.slice(this.saltLength+this.ivLength),t.next=22,this.deriveKey(r,o);case 22:return c=t.sent,t.prev=23,t.next=26,this.cryptoObj.subtle.decrypt({name:"AES-GCM",iv:a},c,i);case 26:return s=t.sent,u=new TextDecoder,l=u.decode(s),t.prev=29,t.abrupt("return",JSON.parse(l));case 33:return t.prev=33,t.t1=t.catch(29),t.abrupt("return",l);case 36:t.next=42;break;case 38:throw t.prev=38,t.t2=t.catch(23),console.error("WebCrypto decryption failed:",t.t2),new Error("Decryption failed: Incorrect password or corrupted data");case 42:t.next=48;break;case 44:throw t.prev=44,t.t3=t.catch(4),console.error("Decryption error:",t.t3),t.t3;case 48:case"end":return t.stop()}}),t,this,[[4,44],[7,11],[23,38],[29,33]])}))),function(e){return t.apply(this,arguments)})}]);var t,e,r,n,o,a}();const St=Lt;function Nt(t){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}function Ot(t){return function(t){if(Array.isArray(t))return Pt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Tt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Tt(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Tt(t,e){if(t){if("string"==typeof t)return Pt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pt(t,e):void 0}}function Pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ct(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function At(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(r),!0).forEach((function(e){It(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function It(t,e,r){return(e=Bt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ft(){Ft=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:S(t,r,c)}),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==r&&n.call(x,i)&&(w=x);var k=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,i,c){var s=p(t[o],t,a);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==Nt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(l).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,r,n){var o=f;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=N(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=p(e,r,n);if("normal"===u.type){if(o=n.done?v:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function N(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,N(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=p(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(Nt(e)+" is not iterable")}return g.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},E(L.prototype),u(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(k),u(k,s,"Generator"),u(k,i,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Dt(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Gt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Dt(a,n,o,i,c,"next",t)}function c(t){Dt(a,n,o,i,c,"throw",t)}i(void 0)}))}}function Mt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bt(n.key),n)}}function Bt(t){var e=function(t){if("object"!=Nt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Nt(e)?e:e+""}var Ut=function(){return function(t,e){return e&&Mt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dbName="TabLockerDB",this.dbVersion=1,this.db=null,this.isReady=!1,this.compressionService=new yt,this.encryptionService=new St(e),this.initializeDB()}),[{key:"setPassword",value:function(t){this.encryptionService.setPassword(t)}},{key:"initializeDB",value:(p=Gt(Ft().mark((function t(){var e=this;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var n=indexedDB.open(e.dbName,e.dbVersion);n.onupgradeneeded=function(t){var e=t.target.result;if(!e.objectStoreNames.contains("tabGroups")){var r=e.createObjectStore("tabGroups",{keyPath:"id"});r.createIndex("created","created",{unique:!1}),r.createIndex("name","name",{unique:!1}),r.createIndex("orderIndex","orderIndex",{unique:!1})}e.objectStoreNames.contains("settings")||e.createObjectStore("settings",{keyPath:"key"})},n.onsuccess=function(r){e.db=r.target.result,e.isReady=!0,t(e.db)},n.onerror=function(t){console.error("Error opening IndexedDB:",t.target.error),r(t.target.error)}})));case 1:case"end":return t.stop()}}),t)}))),function(){return p.apply(this,arguments)})},{key:"ensureDBReady",value:(l=Gt(Ft().mark((function t(){return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isReady||!this.db){t.next=2;break}return t.abrupt("return",this.db);case 2:return t.abrupt("return",this.initializeDB());case 3:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"transaction",value:(u=Gt(Ft().mark((function t(e,r,n){var o=this;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ensureDBReady();case 2:return t.abrupt("return",new Promise((function(t,a){var i=o.db.transaction(e,r),c=i.objectStore(e);i.oncomplete=function(){return t()},i.onerror=function(t){return a(t.target.error)};var s=n(c);s&&(s.onsuccess=function(e){return t(e.target.result)},s.onerror=function(t){return a(t.target.error)})})));case 3:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return u.apply(this,arguments)})},{key:"saveTabGroup",value:(s=Gt(Ft().mark((function t(e){var r,n,o,a;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.id||(e.id=crypto.randomUUID()),e.created||(e.created=Date.now()),e.name||(e.name="Tabs from ".concat(new Date(e.created).toLocaleString())),(r=JSON.parse(JSON.stringify(e))).tabs&&Array.isArray(r.tabs)){t.next=8;break}throw console.error("No tabs array found in tab group:",r),new Error("No tabs to save");case 8:if(n=JSON.stringify(r.tabs),o=this.compressionService.compress(n),this.encryptionService.password){t.next=19;break}return t.next=13,chrome.storage.local.get("password");case 13:if(!(a=t.sent).password){t.next=18;break}this.setPassword(a.password),t.next=19;break;case 18:throw new Error("No password set for encryption");case 19:return t.next=21,this.encryptionService.encrypt(o);case 21:return r.encryptedTabs=t.sent,delete r.tabs,t.next=25,this.transaction("tabGroups","readwrite",(function(t){return t.put(r)}));case 25:return console.log("Successfully saved tab group with ID: ".concat(r.id),r),t.abrupt("return",r.id);case 29:throw t.prev=29,t.t0=t.catch(0),console.error("Error saving tab group:",t.t0),new Error("Failed to save tabs: ".concat(t.t0.message));case 33:case"end":return t.stop()}}),t,this,[[0,29]])}))),function(t){return s.apply(this,arguments)})},{key:"getTabGroup",value:(c=Gt(Ft().mark((function t(e){var r,n,o,a;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.transaction("tabGroups","readonly",(function(t){return t.get(e)}));case 3:if(r=t.sent){t.next=6;break}return t.abrupt("return",null);case 6:if(this.encryptionService.password){t.next=15;break}return t.next=9,chrome.storage.local.get("password");case 9:if(!(n=t.sent).password){t.next=14;break}this.setPassword(n.password),t.next=15;break;case 14:throw new Error("No password set for decryption");case 15:if(!r.encryptedTabs){t.next=46;break}return t.prev=16,t.next=19,this.encryptionService.decrypt(r.encryptedTabs);case 19:if(o=t.sent){t.next=22;break}throw new Error("Failed to decrypt tab data");case 22:if(a=this.compressionService.decompress(o)){t.next=25;break}throw new Error("Failed to decompress tab data");case 25:if("string"!=typeof a){t.next=36;break}t.prev=26,r.tabs=JSON.parse(a),t.next=34;break;case 30:throw t.prev=30,t.t0=t.catch(26),console.error("Error parsing decompressed tabs:",t.t0),new Error("Invalid tab data format");case 34:t.next=37;break;case 36:r.tabs=a;case 37:return t.abrupt("return",r);case 40:throw t.prev=40,t.t1=t.catch(16),console.error("Error decrypting tab group:",t.t1),new Error("Unable to decrypt tab group: ".concat(t.t1.message));case 44:t.next=47;break;case 46:throw new Error("No encrypted tab data found");case 47:t.next=53;break;case 49:throw t.prev=49,t.t2=t.catch(0),console.error("Error retrieving tab group:",t.t2),new Error("Failed to retrieve tab group: ".concat(t.t2.message));case 53:case"end":return t.stop()}}),t,this,[[0,49],[16,40],[26,30]])}))),function(t){return c.apply(this,arguments)})},{key:"getAllTabGroups",value:(i=Gt(Ft().mark((function t(){var e=this;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Gt(Ft().mark((function t(r,n){var o,a,i,c;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ensureDBReady();case 2:o=e.db.transaction("tabGroups","readonly"),a=o.objectStore("tabGroups"),i=a.index("created").openCursor(null,"prev"),c=[],i.onsuccess=function(t){var e=t.target.result;if(e){var n=At({},e.value);delete n.encryptedTabs,c.push(n),e.continue()}else{var o=c.sort((function(t,e){return void 0!==t.orderIndex&&void 0!==e.orderIndex?t.orderIndex-e.orderIndex:void 0!==t.orderIndex?-1:void 0!==e.orderIndex?1:e.created-t.created}));r(o)}},i.onerror=function(t){n(t.target.error)};case 8:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"deleteTabGroup",value:(a=Gt(Ft().mark((function t(e){return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.transaction("tabGroups","readwrite",(function(t){return t.delete(e)})));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"updateTabGroup",value:(o=Gt(Ft().mark((function t(e,r){var n;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getTabGroup(e);case 2:if(n=t.sent){t.next=5;break}throw new Error("Tab group not found");case 5:return Object.assign(n,r),t.abrupt("return",this.saveTabGroup(n));case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})},{key:"searchTabGroups",value:(n=Gt(Ft().mark((function t(e){var r,n,o,a,i,c,s,u,l,p,f,h,d,v;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&""!==e.trim()){t.next=2;break}return t.abrupt("return",this.getAllTabGroups());case 2:return t.next=4,this.getAllTabGroups();case 4:r=t.sent,n=e.toLowerCase().trim(),o=r.filter((function(t){return!(!t.name||!t.name.toLowerCase().includes(n))||!!new Date(t.created).toLocaleString().toLowerCase().includes(n)})),a=r.filter((function(t){return!o.some((function(e){return e.id===t.id}))})).map((function(t){return t.id})),i=[],c=jt(a),t.prev=10,c.s();case 12:if((s=c.n()).done){t.next=29;break}return u=s.value,t.prev=14,t.next=17,this.getTabGroup(u);case 17:if((l=t.sent)&&l.tabs){t.next=20;break}return t.abrupt("continue",27);case 20:l.tabs.some((function(t){return!(!t.title||!t.title.toLowerCase().includes(n))||!(!t.url||!t.url.toLowerCase().includes(n))||!(!t.savedAt||!new Date(t.savedAt).toLocaleString().toLowerCase().includes(n))}))&&(delete(p=At({},l)).tabs,delete p.encryptedTabs,i.push(p)),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(14),console.error("Error searching tab group:",t.t0);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:f=Ot(o),h=Ft().mark((function t(){var e;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=v[d],f.some((function(t){return t.id===e.id}))||f.push(e);case 2:case"end":return t.stop()}}),t)})),d=0,v=i;case 40:if(!(d<v.length)){t.next=45;break}return t.delegateYield(h(),"t2",42);case 42:d++,t.next=40;break;case 45:return t.abrupt("return",f);case 46:case"end":return t.stop()}}),t,this,[[10,31,34,37],[14,24]])}))),function(t){return n.apply(this,arguments)})},{key:"saveSetting",value:(r=Gt(Ft().mark((function t(e,r){return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.transaction("settings","readwrite",(function(t){return t.put({key:e,value:r})})));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"getSetting",value:(e=Gt(Ft().mark((function t(e){var r;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.transaction("settings","readonly",(function(t){return t.get(e)}));case 2:return r=t.sent,t.abrupt("return",r?r.value:null);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"clearAllData",value:(t=Gt(Ft().mark((function t(){var e;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ensureDBReady();case 2:return(e=this.db.transaction(["tabGroups","settings"],"readwrite")).objectStore("tabGroups").clear(),e.objectStore("settings").clear(),t.abrupt("return",new Promise((function(t,r){e.oncomplete=function(){return t()},e.onerror=function(t){return r(t.target.error)}})));case 6:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})}]);var t,e,r,n,o,a,i,c,s,u,l,p}();const Wt=Ut;function Ht(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||Rt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(t,e){if(t){if("string"==typeof t)return zt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zt(t,e):void 0}}function zt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function qt(t){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(t)}function Kt(){Kt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:S(t,r,c)}),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==r&&n.call(x,i)&&(w=x);var k=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,i,c){var s=p(t[o],t,a);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==qt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(l).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,r,n){var o=f;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=N(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=p(e,r,n);if("normal"===u.type){if(o=n.done?v:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function N(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,N(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=p(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(qt(e)+" is not iterable")}return g.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},E(L.prototype),u(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(k),u(k,s,"Generator"),u(k,i,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Vt(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function Jt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Vt(a,n,o,i,c,"next",t)}function c(t){Vt(a,n,o,i,c,"throw",t)}i(void 0)}))}}function Yt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$t(n.key),n)}}function $t(t){var e=function(t){if("object"!=qt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=qt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==qt(e)?e:e+""}var Qt=function(){return function(t,e){return e&&Yt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.compressionService=new yt,this.encryptionService=new St(e),e||this.initializeDefaultPassword()}),[{key:"initializeDefaultPassword",value:(o=Jt(Kt().mark((function t(){var e;return Kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,chrome.storage.local.get("password");case 3:(e=t.sent).password&&this.setPassword(e.password),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error initializing default password:",t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(){return o.apply(this,arguments)})},{key:"setPassword",value:function(t){this.encryptionService.setPassword(t)}},{key:"exportAsOneTabFormat",value:function(t){return t&&t.length?t.map((function(t){return"".concat(t.url," | ").concat(t.title||"")})).join("\n"):""}},{key:"importFromOneTabFormat",value:function(t){return t?t.split(/\n\s*\n/).filter((function(t){return""!==t.trim()})).map((function(t){return t.split("\n").filter((function(t){return""!==t.trim()})).map((function(t){var e=t.split("|"),r=e[0].trim();return{url:r,title:e.length>1?e.slice(1).join("|").trim():r}}))})):[]}},{key:"exportEncrypted",value:(n=Jt(Kt().mark((function t(e){var r,n,o,a,i,c=arguments;return Kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:null,t.prev=1,r||this.encryptionService.password){t.next=11;break}return t.next=5,chrome.storage.local.get("password");case 5:if(!(n=t.sent).password){t.next=10;break}this.setPassword(n.password),t.next=11;break;case 10:throw new Error("No password set for encryption");case 11:return o=JSON.parse(JSON.stringify(e)),a=this.compressionService.compressToBase64(o),t.next=15,this.encryptionService.encrypt(a,r);case 15:return i=t.sent,t.abrupt("return","TABLOCKER:".concat(i));case 19:throw t.prev=19,t.t0=t.catch(1),console.error("Export encryption error:",t.t0),new Error("Export error: "+t.t0.message);case 23:case"end":return t.stop()}}),t,this,[[1,19]])}))),function(t){return n.apply(this,arguments)})},{key:"importEncrypted",value:(r=Jt(Kt().mark((function t(e){var r,n,o,a,i,c=arguments;return Kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:null,t.prev=1,e&&"string"==typeof e){t.next=4;break}throw new Error("No data to import or invalid format");case 4:if(e.startsWith("TABLOCKER:")){t.next=6;break}throw new Error("Invalid TabLocker export format");case 6:if(r||this.encryptionService.password){t.next=15;break}return t.next=9,chrome.storage.local.get("password");case 9:if(!(n=t.sent).password){t.next=14;break}this.setPassword(n.password),t.next=15;break;case 14:throw new Error("No password set for decryption");case 15:return o=e.substring(10),t.prev=16,t.next=19,this.encryptionService.decrypt(o,r);case 19:a=t.sent,t.next=26;break;case 22:throw t.prev=22,t.t0=t.catch(16),console.error("Decryption failed during import:",t.t0),new Error("Unable to decrypt tab group: ".concat(t.t0.message));case 26:if(a){t.next=28;break}throw new Error("Decryption returned empty data");case 28:t.prev=28,i=this.compressionService.decompressFromBase64(a),t.next=36;break;case 32:throw t.prev=32,t.t1=t.catch(28),console.error("Decompression failed during import:",t.t1),new Error("Failed to decompress import data: ".concat(t.t1.message));case 36:if(i){t.next=38;break}throw new Error("Failed to decompress import data");case 38:return"object"!==qt(i)||Array.isArray(i)||i.tabs&&Array.isArray(i.tabs)||console.warn("Import data missing tabs array:",i),t.abrupt("return",i);case 42:throw t.prev=42,t.t2=t.catch(1),console.error("Import decryption error:",t.t2),new Error("Error processing import: ".concat(t.t2.message));case 46:case"end":return t.stop()}}),t,this,[[1,42],[16,22],[28,32]])}))),function(t){return r.apply(this,arguments)})},{key:"isOneTabFormat",value:function(t){if(!t)return!1;var e=t.split(/\n\s*\n/).filter((function(t){return""!==t.trim()}));if(0===e.length)return!1;var r,n=0,o=0,a=function(t){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=Rt(t))){e&&(t=e);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){i=!0,o=t},f:function(){try{a||null==e.return||e.return()}finally{if(i)throw o}}}}(e);try{for(a.s();!(r=a.n()).done;){var i=r.value.split("\n").filter((function(t){return""!==t.trim()}));n+=i.length,o+=i.filter((function(t){var e=t.trim();return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("edge://")})).length}}catch(t){a.e(t)}finally{a.f()}return n>0&&o/n>=.8}},{key:"isTabLockerFormat",value:function(t){return t&&t.startsWith("TABLOCKER:")}},{key:"autoImport",value:(e=Jt(Kt().mark((function t(e){var r,n,o,a,i,c,s,u,l=arguments;return Kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:null,e){t.next=3;break}throw new Error("No import data provided");case 3:if(!this.isTabLockerFormat(e)){t.next=8;break}return t.next=6,this.importEncrypted(e,r);case 6:return t.t0=t.sent,t.abrupt("return",{type:"tablocker",data:t.t0});case 8:if(1!==(n=e.trim().split("\n")).length){t.next=14;break}if((o=n[0].trim()).includes(" | ")?(c=o.split(" | ").map((function(t){return t.trim()})),s=Ht(c,2),a=s[0],i=s[1]):(a=o,i=o),!(a.startsWith("http://")||a.startsWith("https://")||a.startsWith("edge://"))){t.next=14;break}return t.abrupt("return",{type:"onetab",data:{groups:[{id:Date.now().toString(),name:"Imported URL",created:Date.now(),tabs:[{url:a,title:i}]}]}});case 14:if(!this.isOneTabFormat(e)){t.next=17;break}return u=this.importFromOneTabFormat(e),t.abrupt("return",{type:"onetab",data:{groups:u.map((function(t,e){return{id:(Date.now()+e).toString(),name:"Imported Group ".concat(e+1),created:Date.now(),tabs:t}}))}});case 17:throw new Error("Unsupported import format");case 18:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"downloadAsFile",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain";try{var n=new Blob([t],{type:r}),o=URL.createObjectURL(n),a=document.createElement("a");a.href=o,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout((function(){return URL.revokeObjectURL(o)}),100)}catch(t){throw console.error("Error creating download:",t),new Error("Cannot download file in this context")}}},{key:"copyToClipboard",value:(t=Jt(Kt().mark((function t(e){var r,n;return Kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.writeText(e);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),console.error("Error copying to clipboard:",t.t0),t.prev=9,(r=document.createElement("textarea")).value=e,r.style.position="fixed",r.style.left="-999999px",r.style.top="-999999px",document.body.appendChild(r),r.focus(),r.select(),n=document.execCommand("copy"),document.body.removeChild(r),t.abrupt("return",n);case 23:return t.prev=23,t.t1=t.catch(9),console.error("Fallback clipboard copy failed:",t.t1),t.abrupt("return",!1);case 27:case"end":return t.stop()}}),t,null,[[0,6],[9,23]])}))),function(e){return t.apply(this,arguments)})}]);var t,e,r,n,o}();const Xt=Qt;function Zt(t){return Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zt(t)}function te(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ee(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?te(Object(r),!0).forEach((function(e){re(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function re(t,e,r){return(e=ce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ne(){ne=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:S(t,r,c)}),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==r&&n.call(x,i)&&(w=x);var k=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,i,c){var s=p(t[o],t,a);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==Zt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(l).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,r,n){var o=f;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=N(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=p(e,r,n);if("normal"===u.type){if(o=n.done?v:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function N(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,N(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=p(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(Zt(e)+" is not iterable")}return g.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},E(L.prototype),u(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(k),u(k,s,"Generator"),u(k,i,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function oe(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function ae(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){oe(a,n,o,i,c,"next",t)}function c(t){oe(a,n,o,i,c,"throw",t)}i(void 0)}))}}function ie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ce(n.key),n)}}function ce(t){var e=function(t){if("object"!=Zt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Zt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Zt(e)?e:e+""}var se=function(){return function(t,e){return e&&ie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),[{key:"getCurrentWindowTabs",value:(i=ae(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){chrome.tabs.query({currentWindow:!0},(function(e){var r=e.filter((function(t){return!(t.url.startsWith("chrome-extension://")||t.url.startsWith("moz-extension://")||t.url.startsWith("edge-extension://")||t.url.startsWith("opera-extension://"))})).map((function(t){return{id:t.id,url:t.url,title:t.title,favIconUrl:t.favIconUrl||null,pinned:t.pinned||!1,groupId:void 0!==t.groupId?t.groupId:-1}}));t(r)}))})));case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"getAllWindowsTabs",value:(a=ae(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){chrome.tabs.query({},(function(e){var r=e.reduce((function(t,e){return e.url.startsWith("chrome-extension://")||e.url.startsWith("moz-extension://")||e.url.startsWith("edge-extension://")||e.url.startsWith("opera-extension://")||(t[e.windowId]||(t[e.windowId]=[]),t[e.windowId].push({id:e.id,url:e.url,title:e.title,favIconUrl:e.favIconUrl||null,pinned:e.pinned||!1,groupId:void 0!==e.groupId?e.groupId:-1})),t}),{});t(Object.values(r))}))})));case 1:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"getTabGroups",value:(o=ae(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(chrome.tabGroups){t.next=2;break}return t.abrupt("return",{});case 2:return t.abrupt("return",new Promise((function(t){chrome.tabGroups.query({},(function(e){var r=e.reduce((function(t,e){return t[e.id]={name:e.title||"",color:e.color||"grey"},t}),{});t(r)}))})));case 3:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"closeTabs",value:(n=ae(ne().mark((function t(e){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){chrome.tabs.remove(e,(function(){t()}))})));case 1:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})},{key:"createTab",value:(r=ae(ne().mark((function t(e){var r,n=arguments;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=!(n.length>1&&void 0!==n[1])||n[1],t.abrupt("return",new Promise((function(t){chrome.tabs.create({url:e,active:r},(function(e){t(e)}))})));case 2:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})},{key:"restoreTabs",value:(e=ae(ne().mark((function t(e){var r,n,o,a,i;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],n=0;case 3:if(!(n<e.length)){t.next=13;break}return o=e[n],a=0===n,t.next=8,this.createTab(o.url,a);case 8:i=t.sent,r.push(i);case 10:n++,t.next=3;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"isTabPinned",value:(t=ae(ne().mark((function t(e){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){chrome.tabs.get(e,(function(e){t(e.pinned||!1)}))})));case 1:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)})},{key:"formatTabForDisplay",value:function(t){var e="";try{e=new URL(t.url).hostname}catch(r){e=t.url}return ee(ee({},t),{},{domain:e,shortTitle:this.truncateString(t.title,50)})}},{key:"truncateString",value:function(t,e){return t?t.length<=e?t:t.substring(0,e)+"...":""}}]);var t,e,r,n,o,a,i}();const ue=se;function le(t){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le(t)}var pe=["name","className","size"];function fe(){fe=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof m?e:m,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:S(t,r,c)}),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function b(){}var w={};u(w,i,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(P([])));x&&x!==r&&n.call(x,i)&&(w=x);var k=b.prototype=m.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,i,c){var s=p(t[o],t,a);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==le(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(l).then((function(t){u.value=t,i(u)}),(function(t){return r("throw",t,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,r,n){var o=f;return function(a,i){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var s=N(c,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var u=p(e,r,n);if("normal"===u.type){if(o=n.done?v:h,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=v,n.method="throw",n.arg=u.arg)}}}function N(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,N(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=p(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function P(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(le(e)+" is not iterable")}return g.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},E(L.prototype),u(L.prototype,c,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(k),u(k,s,"Generator"),u(k,i,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function he(t){return function(t){if(Array.isArray(t))return ke(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||xe(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=xe(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function ve(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}function ye(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){ve(a,n,o,i,c,"next",t)}function c(t){ve(a,n,o,i,c,"throw",t)}i(void 0)}))}}function me(){return me=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},me.apply(null,arguments)}function ge(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function be(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ge(Object(r),!0).forEach((function(e){we(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function we(t,e,r){return(e=function(t){var e=function(t){if("object"!=le(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==le(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,u=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);s=!0);}catch(t){u=!0,o=t}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||xe(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(t,e){if(t){if("string"==typeof t)return ke(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ke(t,e):void 0}}function ke(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Ee={showNotification:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=document.createElement("div");r.className="notification notification-".concat(e),r.textContent=t;var n=document.querySelector(".notification-container");n||((n=document.createElement("div")).className="notification-container",document.body.appendChild(n)),n.appendChild(r),setTimeout((function(){r.classList.add("notification-hide"),setTimeout((function(){r.parentNode&&r.parentNode.removeChild(r),0===n.children.length&&n.parentNode&&n.parentNode.removeChild(n)}),300)}),2e3)}};function Le(t){var e=t.group,r=t.onRestore,n=t.onDelete,o=t.onRestoreTab,a=t.onReorderTabs,i=t.onUpdateGroup,c=t.onUpdateTab,s=t.dragHandleProps,u=_e(tt(!1),2),l=u[0],p=u[1],f=_e(tt(null),2),h=f[0],d=f[1],v=_e(tt(null),2),y=v[0],m=v[1],b=_e(tt(!1),2),w=b[0],_=b[1],x=_e(tt(e.name),2),k=x[0],E=x[1],L=_e(tt(null),2),S=L[0],N=L[1],O=_e(tt(null),2),j=O[0],T=O[1],P=_e(tt(""),2),C=P[0],A=P[1];et((function(){i(e.id,w||null!==S?{isEditing:!0}:{isEditing:!1},!1)}),[w,S]);var I,F=function(){d(null),m(null)};return g("div",me({className:"tab-group"},s||{}),g("div",{className:"tab-group-header",draggable:!w,onClick:function(t){"BUTTON"===t.target.tagName||"INPUT"===t.target.tagName||w||p(!l)}},g("div",{className:"tab-group-info"},w?g("form",{className:"edit-group-name-form",onSubmit:function(t){t.preventDefault(),k.trim()&&(i(e.id,{name:k.trim()}),_(!1))}},g("input",{type:"text",className:"form-control edit-group-name-input",value:k,onChange:function(t){return E(t.target.value)},autoFocus:!0,onBlur:function(){k.trim()?i(e.id,{name:k.trim()}):E(e.name),_(!1)},onClick:function(t){return t.stopPropagation()}})):g("div",{className:"group-name-container"},g("h3",{className:"tab-group-name"},e.name,g("button",{className:"btn-icon edit-icon",onClick:function(t){t.stopPropagation(),_(!0)},title:"Edit group name"},g(je,{name:"edit-2",size:"0.8em"})))),g("div",{className:"tab-group-meta"},g("span",{className:"tab-group-date"},(I=e.created)?new Date(I).toLocaleString():""),g("span",{className:"tab-group-count"},e.tabCount," tab",1!==e.tabCount&&"s"))),g("div",{className:"tab-group-actions"},g("button",{className:"btn btn-sm btn-primary",onClick:function(){return r(e.id)},title:"Restore all tabs"},g(je,{name:"external-link"})," Restore All"),g("button",{className:"btn btn-sm btn-secondary",onClick:function(t){t.stopPropagation(),p(!l)},title:l?"Collapse":"Expand"},g(je,{name:l?"chevron-up":"chevron-down"})," ",l?"Collapse":"Expand"),g("button",{className:"btn btn-sm btn-danger",onClick:function(){return n(e.id)},title:"Delete group"},g(je,{name:"trash-2"})," Delete"))),l&&e.tabs&&g("div",{className:"tab-list"},e.tabs.map((function(t,r){return g("div",{key:r,className:"tab-item ".concat(h===r?"tab-dragging":""," ").concat(y===r?"tab-drag-over":""),draggable:null===S,onDragStart:function(){return function(t){w||null!==S||d(t)}(r)},onDragOver:function(t){return function(t,e){t.preventDefault(),null!==h&&h!==e&&m(e)}(t,r)},onDrop:function(t){return function(t,r){t.preventDefault(),null!==h&&h!==r&&(a(e.id,h,r),d(null),m(null))}(t,r)},onDragEnd:F},g("div",{className:"tab-favicon"},t.favIconUrl?g("img",{src:t.favIconUrl,alt:"",width:"16",height:"16"}):g("div",{className:"default-favicon"})),g("div",{className:"tab-info"},S===r&&"title"===j?g("form",{className:"edit-tab-form",onSubmit:function(n){if(n.preventDefault(),C.trim()){var o=be(be({},t),{},{title:C.trim()});c(e.id,r,o)}N(null),T(null)},onClick:function(t){return t.stopPropagation()}},g("input",{type:"text",className:"form-control edit-tab-input",value:C,onChange:function(t){return A(t.target.value)},autoFocus:!0,onBlur:function(){if(C.trim()){var n=be(be({},t),{},{title:C.trim()});c(e.id,r,n)}N(null),T(null)}})):g("div",{className:"tab-title",title:t.title,onClick:function(e){"BUTTON"!==e.target.tagName&&(e.stopPropagation(),N(r),T("title"),A(t.title||""))}},t.title||"Untitled Tab",g("button",{className:"btn-icon edit-icon",onClick:function(e){e.stopPropagation(),N(r),T("title"),A(t.title||"")},title:"Edit tab title"},g(je,{name:"edit-2",size:"0.8em"}))),S===r&&"url"===j?g("form",{className:"edit-tab-form",onSubmit:function(n){if(n.preventDefault(),C.trim())try{new URL(C);var o=be(be({},t),{},{url:C.trim()});c(e.id,r,o)}catch(o){var a="http://".concat(C.trim());try{new URL(a);var i=be(be({},t),{},{url:a});c(e.id,r,i)}catch(n){return void alert("Please enter a valid URL")}}N(null),T(null)},onClick:function(t){return t.stopPropagation()}},g("input",{type:"text",className:"form-control edit-tab-input",value:C,onChange:function(t){return A(t.target.value)},autoFocus:!0,onBlur:function(){if(C.trim())try{new URL(C);var n=be(be({},t),{},{url:C.trim()});c(e.id,r,n)}catch(n){var o="http://".concat(C.trim());try{new URL(o);var a=be(be({},t),{},{url:o});c(e.id,r,a)}catch(t){}}N(null),T(null)}})):g("div",{className:"tab-url",title:t.url,onClick:function(e){"BUTTON"!==e.target.tagName&&(e.stopPropagation(),N(r),T("url"),A(t.url||""))}},t.url,g("button",{className:"btn-icon edit-icon",onClick:function(e){e.stopPropagation(),N(r),T("url"),A(t.url||"")},title:"Edit tab URL"},g(je,{name:"edit-2",size:"0.8em"})))),g("button",{className:"btn btn-sm btn-link",onClick:function(){return o(t)},title:"Restore this tab"},g(je,{name:"external-link"})," Restore"))}))))}function Se(t){var e=t.onSearch,r=_e(tt(""),2),n=r[0],o=r[1];return g("form",{className:"search-form",onSubmit:function(t){t.preventDefault(),e(n)}},g("input",{type:"text",className:"search-input",placeholder:"Search saved tabs...",value:n,onChange:function(t){return o(t.target.value)}}),g("button",{type:"submit",className:"btn btn-primary search-button"},g(je,{name:"search"})," Search"))}function Ne(t){var e=t.onImport,r=t.showToast,n=_e(tt(""),2),o=n[0],a=n[1],i=_e(tt(""),2),c=i[0],s=i[1],u=_e(tt(""),2),l=u[0],p=u[1],f=_e(tt(!1),2),h=(f[0],f[1]),d=_e(tt(!1),2),v=d[0],y=d[1],m=new Xt,b=new Wt,w=rt(null),_=rt(null),x=function(){var t=ye(fe().mark((function t(e){var n,a,i,c,s,u,l,p,f,d,v,y,g,w,_;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h(!0),t.next=4,b.getAllTabGroups();case 4:if(0!==(n=t.sent).length){t.next=8;break}return r("No tab groups to export","warning"),t.abrupt("return");case 8:if(a="",i="","onetab"!==e){t.next=35;break}c=[],s=de(n),t.prev=13,s.s();case 15:if((u=s.n()).done){t.next=23;break}return l=u.value,t.next=19,b.getTabGroup(l.id);case 19:(p=t.sent)&&p.tabs&&c.push.apply(c,he(p.tabs));case 21:t.next=15;break;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(13),s.e(t.t0);case 28:return t.prev=28,s.f(),t.finish(28);case 31:a=m.exportAsOneTabFormat(c),i="tablocker-onetab-".concat(Date.now(),".txt"),t.next=62;break;case 35:if("encrypted"!==e){t.next=62;break}f=[],d=de(n),t.prev=38,d.s();case 40:if((v=d.n()).done){t.next=48;break}return y=v.value,t.next=44,b.getTabGroup(y.id);case 44:(g=t.sent)&&f.push(g);case 46:t.next=40;break;case 48:t.next=53;break;case 50:t.prev=50,t.t1=t.catch(38),d.e(t.t1);case 53:return t.prev=53,d.f(),t.finish(53);case 56:return w={groups:f,version:"1.0",exportDate:Date.now()},o&&m.setPassword(o),t.next=60,m.exportEncrypted(w,o);case 60:a=t.sent,i="tablocker-encrypted-".concat(Date.now(),".tlbk");case 62:if(a){t.next=65;break}return h(!1),t.abrupt("return");case 65:(_=document.createElement("div")).className="export-options-dialog",_.innerHTML='\n        <div class="export-options-content">\n          <h3>Export Options</h3>\n          <div class="export-options-buttons">\n            <button class="download-btn">\n              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>\n                <polyline points="7 10 12 15 17 10"></polyline>\n                <line x1="12" y1="15" x2="12" y2="3"></line>\n              </svg>\n              Download as File\n            </button>\n            <button class="copy-btn">\n              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>\n                <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>\n              </svg>\n              Copy to Clipboard\n            </button>\n          </div>\n          <button class="close-btn">\n            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n              <line x1="18" y1="6" x2="6" y2="18"></line>\n              <line x1="6" y1="6" x2="18" y2="18"></line>\n            </svg>\n          </button>\n        </div>\n      ',document.body.appendChild(_),_.querySelector(".download-btn").addEventListener("click",(function(){m.downloadAsFile(a,i),r("Export saved to file successfully!","success"),document.body.removeChild(_)})),_.querySelector(".copy-btn").addEventListener("click",ye(fe().mark((function t(){return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.writeText(a);case 3:r("Copied to clipboard!","success"),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Failed to copy:",t.t0),r("Failed to copy to clipboard","error");case 10:document.body.removeChild(_);case 11:case"end":return t.stop()}}),t,null,[[0,6]])})))),_.querySelector(".close-btn").addEventListener("click",(function(){document.body.removeChild(_)})),_.addEventListener("click",(function(t){t.target===_&&document.body.removeChild(_)})),h(!1),t.next=80;break;case 76:t.prev=76,t.t2=t.catch(0),console.error("Export error:",t.t2),r("Export failed: ".concat(t.t2.message));case 80:case"end":return t.stop()}}),t,null,[[0,76],[13,25,28,31],[38,50,53,56]])})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=ye(fe().mark((function t(){var n;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,l.trim()){t.next=4;break}return r("Please enter import data","warning"),t.abrupt("return");case 4:return y(!0),c&&m.setPassword(c),t.next=8,m.autoImport(l,c);case 8:"tablocker"===(n=t.sent).type?(r("TabLocker import successful!","success"),e(n.data)):"onetab"===n.type&&(r("OneTab import successful!","success"),e(n.data)),y(!1),p(""),s(""),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(0),console.error("Import error:",t.t0),r("Import failed: ".concat(t.t0.message),"error"),y(!1);case 20:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=ye(fe().mark((function t(n){var o,a;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=n.target.files[0]){t.next=4;break}return t.abrupt("return");case 4:y(!0),(a=new FileReader).onload=function(){var t=ye(fe().mark((function t(n){var o,a;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=n.target.result,p(o),!o){t.next=11;break}return c&&m.setPassword(c),t.next=7,m.autoImport(o,c);case 7:"tablocker"===(a=t.sent).type?(r("TabLocker import successful!","success"),e(a.data)):"onetab"===a.type&&(r("OneTab import successful!","success"),e(a.data)),p(""),s("");case 11:y(!1),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(0),console.error("File import error:",t.t0),r("File import failed: ".concat(t.t0.message),"error"),y(!1);case 19:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}(),a.onerror=function(){r("Error reading file")},a.readAsText(o),n.target.value="",t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("File import error:",t.t0),r("File import failed: ".concat(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),L=function(){w.current&&w.current.click()};return et((function(){var t=_.current;if(t){var e=function(e){e.preventDefault(),e.stopPropagation(),t.classList.add("dragover")},r=function(e){e.preventDefault(),e.stopPropagation(),t.classList.remove("dragover")},n=function(e){if(e.preventDefault(),e.stopPropagation(),t.classList.remove("dragover"),e.dataTransfer.files&&e.dataTransfer.files.length>0){var r=w.current;if(r){try{var n=new DataTransfer;n.items.add(e.dataTransfer.files[0]),r.files=n.files}catch(t){return console.error("DataTransfer not supported:",t),void L()}var o=new Event("change",{bubbles:!0});r.dispatchEvent(o)}}};return t.addEventListener("dragover",e),t.addEventListener("dragleave",r),t.addEventListener("drop",n),function(){t.removeEventListener("dragover",e),t.removeEventListener("dragleave",r),t.removeEventListener("drop",n)}}}),[]),g("div",{className:"export-import-container"},g("div",{className:"card"},g("div",{className:"card-header"},g("h3",null,"Export Tabs")),g("div",{className:"card-body"},g("div",{className:"form-group"},g("label",{htmlFor:"exportPassword"},"Encryption Password (optional):"),g("input",{type:"password",id:"exportPassword",className:"form-control",value:o,onChange:function(t){return a(t.target.value)},placeholder:"Leave empty for OneTab format"})),g("div",{className:"export-buttons"},g("button",{className:"btn btn-primary",onClick:function(){return x("encrypted")},title:"Export as encrypted TabLocker format (download or copy)"},g(je,{name:"lock"})," Export Encrypted"),g("button",{className:"btn btn-secondary",onClick:function(){return x("onetab")},title:"Export in OneTab compatible format (download or copy)"},g(je,{name:"share"})," Export OneTab Compatible")))),g("div",{className:"card"},g("div",{className:"card-header"},g("h3",null,"Import Tabs")),g("div",{className:"card-body"},g("div",{className:"form-group"},g("label",{htmlFor:"importText"},"Paste exported data:"),g("textarea",{id:"importText",className:"form-control",value:l,onChange:function(t){return p(t.target.value)},placeholder:"Paste OneTab or TabLocker exported data here",rows:5})),g("div",{className:"form-group"},g("label",{htmlFor:"importPassword"},"Decryption Password (if needed):"),g("input",{type:"password",id:"importPassword",className:"form-control",value:c,onChange:function(t){return s(t.target.value)},placeholder:"Only needed for encrypted exports"})),g("div",{className:"import-buttons"},g("button",{className:"btn btn-primary",onClick:k,title:"Import from pasted text",disabled:v},v?"Importing...":"Import"),g("button",{className:"btn btn-secondary",onClick:L,title:"Import from file",disabled:v},g(je,{name:"file-plus"})," Import from File"),g("input",{ref:w,type:"file",accept:".txt,.tlbk,text/plain",onChange:E,style:{display:"none"}})),g("div",{className:"drag-drop-area",ref:_,onClick:L},g(je,{name:"upload-cloud",size:"2.5em"}),g("p",null,"Drag and drop a file here or click to select")))))}function Oe(t){var e=t.settings,r=t.onSaveSettings,n=_e(tt(e),2),o=n[0],a=n[1],i=_e(tt(!1),2),c=i[0],s=i[1];et((function(){a(e)}),[e]);var u=function(t){var e=t.target,r=e.name,n=e.value,i=e.type,c=e.checked;a(be(be({},o),{},we({},r,"checkbox"===i?c:n)))};return g("div",{className:"settings-container"},g("form",{onSubmit:function(t){t.preventDefault(),r(o)}},g("div",{className:"card"},g("div",{className:"card-header"},g("h3",null,"General Settings")),g("div",{className:"card-body"},g("div",{className:"form-group checkbox"},g("input",{type:"checkbox",id:"closeTabsAfterSave",name:"closeTabsAfterSave",checked:o.closeTabsAfterSave,onChange:u}),g("label",{htmlFor:"closeTabsAfterSave"},"Close tabs after saving")),g("div",{className:"form-group"},g("label",{htmlFor:"password"},g(je,{name:"key"})," Encryption Password:"),g("div",{className:"password-input-container"},g("input",{type:c?"text":"password",id:"password",name:"password",className:"form-control",value:o.password||"",onChange:u,placeholder:"Enter encryption password"}),g("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:function(){return s(!c)},title:c?"Hide password":"Show password"},g(je,{name:c?"eye-off":"eye"}))),g("small",null,"This password will be used to encrypt your data. If you forget it, you will not be able to recover your saved tabs.")),g("div",{className:"form-group checkbox"},g("input",{type:"checkbox",id:"usePinProtection",name:"usePinProtection",checked:o.usePinProtection,onChange:u}),g("label",{htmlFor:"usePinProtection"},"Enable PIN protection for quick access")),o.usePinProtection&&g("div",{className:"form-group"},g("label",{htmlFor:"pin"},"PIN:"),g("input",{type:"password",id:"pin",name:"pin",className:"form-control",value:o.pin||"",onChange:u,placeholder:"Enter a 4-digit PIN",pattern:"[0-9]{4}",maxLength:4}),g("small",null,"This PIN will be used for quick access to your saved tabs.")),g("div",{className:"form-group checkbox"},g("input",{type:"checkbox",id:"autoBackup",name:"autoBackup",checked:o.autoBackup,onChange:u}),g("label",{htmlFor:"autoBackup"},"Automatically back up tab data weekly")),g("button",{type:"submit",className:"btn btn-primary"},g(je,{name:"save"})," Save Settings")))))}function je(t){var e=t.name,r=t.className,n=void 0===r?"":r,o=t.size,a=void 0===o?"1em":o,i=function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(-1!==e.indexOf(n))continue;r[n]=t[n]}return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],-1===e.indexOf(r)&&{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,pe);return{download:g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-download ".concat(n),style:{width:a,height:a}},i),g("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),g("polyline",{points:"7 10 12 15 17 10"}),g("line",{x1:"12",y1:"15",x2:"12",y2:"3"})),"clipboard-copy":g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-clipboard ".concat(n),style:{width:a,height:a}},i),g("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),g("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"})),lock:g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-lock ".concat(n),style:{width:a,height:a}},i),g("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),g("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})),share:g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-share ".concat(n),style:{width:a,height:a}},i),g("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),g("polyline",{points:"16 6 12 2 8 6"}),g("line",{x1:"12",y1:"2",x2:"12",y2:"15"})),x:g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x ".concat(n),style:{width:a,height:a}},i),g("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),g("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),"file-plus":g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-file-plus ".concat(n),style:{width:a,height:a}},i),g("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),g("polyline",{points:"14 2 14 8 20 8"}),g("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),g("line",{x1:"9",y1:"15",x2:"15",y2:"15"})),upload:g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-upload ".concat(n),style:{width:a,height:a}},i),g("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),g("polyline",{points:"17 8 12 3 7 8"}),g("line",{x1:"12",y1:"3",x2:"12",y2:"15"})),"upload-cloud":g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-upload-cloud ".concat(n),style:{width:a,height:a}},i),g("polyline",{points:"16 16 12 12 8 16"}),g("line",{x1:"12",y1:"12",x2:"12",y2:"21"}),g("path",{d:"M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"}),g("polyline",{points:"16 16 12 12 8 16"})),settings:g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-settings ".concat(n),style:{width:a,height:a}},i),g("circle",{cx:"12",cy:"12",r:"3"}),g("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})),save:g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-save ".concat(n),style:{width:a,height:a}},i),g("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),g("polyline",{points:"17 21 17 13 7 13 7 21"}),g("polyline",{points:"7 3 7 8 15 8"})),key:g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-key ".concat(n),style:{width:a,height:a}},i),g("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"})),eye:g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye ".concat(n),style:{width:a,height:a}},i),g("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),g("circle",{cx:"12",cy:"12",r:"3"})),"eye-off":g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye-off ".concat(n),style:{width:a,height:a}},i),g("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),g("line",{x1:"1",y1:"1",x2:"23",y2:"23"})),"trash-2":g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-trash-2 ".concat(n),style:{width:a,height:a}},i),g("polyline",{points:"3 6 5 6 21 6"}),g("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),g("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),g("line",{x1:"14",y1:"11",x2:"14",y2:"17"})),"external-link":g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-external-link ".concat(n),style:{width:a,height:a}},i),g("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),g("polyline",{points:"15 3 21 3 21 9"}),g("line",{x1:"10",y1:"14",x2:"21",y2:"3"})),search:g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-search ".concat(n),style:{width:a,height:a}},i),g("circle",{cx:"11",cy:"11",r:"8"}),g("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})),"edit-2":g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-edit-2 ".concat(n),style:{width:a,height:a}},i),g("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})),"chevron-down":g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-down ".concat(n),style:{width:a,height:a}},i),g("polyline",{points:"6 9 12 15 18 9"})),"chevron-up":g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-chevron-up ".concat(n),style:{width:a,height:a}},i),g("polyline",{points:"18 15 12 9 6 15"})),"refresh-cw":g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-refresh-cw ".concat(n),style:{width:a,height:a}},i),g("polyline",{points:"23 4 23 10 17 10"}),g("polyline",{points:"1 20 1 14 7 14"}),g("path",{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"})),database:g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-database ".concat(n),style:{width:a,height:a}},i),g("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),g("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),g("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"})),layers:g("svg",me({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-layers ".concat(n),style:{width:a,height:a}},i),g("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),g("polyline",{points:"2 17 12 22 22 17"}),g("polyline",{points:"2 12 12 17 22 12"}))}[e]||null}!function(r,n,o){var a,i,c,s;n==document&&(n=document.documentElement),e.__&&e.__(r,n),i=(a="function"==typeof o)?null:o&&o.__k||n.__k,c=[],s=[],A(n,r=(!a&&o||n).__k=g(w,null,[r]),i||f,f,n.namespaceURI,!a&&o?[o]:i?null:n.firstChild?t.call(n.childNodes):null,c,!a&&o?o:i?i.__e:n.firstChild,a,s),I(c,r,s)}(g((function(){var t=_e(tt("tabs"),2),e=t[0],r=t[1],n=_e(tt([]),2),o=n[0],a=n[1],i=_e(tt(!0),2),c=i[0],s=i[1],u=_e(tt(""),2),l=u[0],p=u[1],f=_e(tt(null),2),h=f[0],d=f[1],v=_e(tt(null),2),y=v[0],m=v[1],b=_e(tt({closeTabsAfterSave:!1,usePinProtection:!1,pin:"",autoBackup:!0,password:""}),2),w=b[0],_=b[1],x=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";"error"===e&&Ee.showNotification(t,e),console.log("".concat(e,": ").concat(t))},k=new Wt;function E(){return L.apply(this,arguments)}function L(){return L=ye(fe().mark((function t(){var e,r,n,o;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!l){t.next=7;break}return t.next=4,k.searchTabGroups(l);case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,k.getAllTabGroups();case 9:e=t.sent;case 10:r=[],n=fe().mark((function t(){var n,a;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e[o],t.next=4,k.getTabGroup(n.id);case 4:(a=t.sent)&&void 0===a.orderIndex&&(a.orderIndex=o,k.updateTabGroup(a.id,{orderIndex:o}).catch((function(t){return console.error("Error setting initial orderIndex for group ".concat(a.id,":"),t)}))),a&&(a.tabCount=a.tabs?a.tabs.length:0,r.push(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Error loading group ".concat(group.id,":"),t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})),o=0;case 14:if(!(o<e.length)){t.next=19;break}return t.delegateYield(n(),"t0",16);case 16:o++,t.next=14;break;case 19:a(r),t.next=26;break;case 22:throw t.prev=22,t.t1=t.catch(0),console.error("Error loading tab groups:",t.t1),t.t1;case 26:case"end":return t.stop()}}),t,null,[[0,22]])}))),L.apply(this,arguments)}function S(){return N.apply(this,arguments)}function N(){return(N=ye(fe().mark((function t(){return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,chrome.runtime.sendMessage({action:"getOptions"},(function(t){t&&t.success&&t.options&&_(t.options)})),t.next=8;break;case 4:throw t.prev=4,t.t0=t.catch(0),console.error("Error loading settings:",t.t0),t.t0;case 8:case"end":return t.stop()}}),t,null,[[0,4]])})))).apply(this,arguments)}new ue,et((function(){function t(){return(t=ye(fe().mark((function t(){return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E();case 3:return t.next=5,S();case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error loading data:",t.t0),x("Error loading data","error");case 11:return t.prev=11,s(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,7,11,14]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var O=function(){var t=ye(fe().mark((function t(e){var r;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=o.find((function(t){return t.id===e})),r&&r.tabs){t.next=5;break}return setMessage({type:"error",text:"Tab group not found or empty"}),t.abrupt("return");case 5:chrome.runtime.sendMessage({action:"restoreTabs",data:{tabs:r.tabs,keepSaved:!0}},(function(t){t&&t.success?(setMessage({type:"success",text:"Restored ".concat(t.count," tabs!")}),setTimeout((function(){return setMessage(null)}),3e3)):setMessage({type:"error",text:(null==t?void 0:t.error)||"Error restoring tabs"})})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error restoring tab group:",t.t0),setMessage({type:"error",text:"Error restoring tabs: ".concat(t.t0.message)});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=ye(fe().mark((function t(e){return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{chrome.runtime.sendMessage({action:"restoreTabs",data:{tabs:[e],keepSaved:!0}},(function(t){t&&t.success?(setMessage({type:"success",text:"Tab restored!"}),setTimeout((function(){return setMessage(null)}),2e3)):setMessage({type:"error",text:(null==t?void 0:t.error)||"Error restoring tab"})}))}catch(t){console.error("Error restoring tab:",t),setMessage({type:"error",text:"Error restoring tab: ".concat(t.message)})}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=ye(fe().mark((function t(e){return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,confirm("Are you sure you want to delete this tab group?")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,k.deleteTabGroup(e);case 5:return t.next=7,E();case 7:x("Tab group deleted!","success"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Error deleting tab group:",t.t0),x("Error deleting tab group: ".concat(t.t0.message),"error");case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),P=function(){var t=ye(fe().mark((function t(e,r){var n,i,c,s=arguments;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!(s.length>2&&void 0!==s[2])||s[2],t.prev=1,i=o.findIndex((function(t){return t.id===e})),-1!==i){t.next=5;break}return t.abrupt("return");case 5:if((c=he(o))[i]=be(be({},c[i]),r),a(c),!n){t.next=11;break}return t.next=11,k.updateTabGroup(e,r);case 11:x("Group updated!","success"),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),console.error("Error updating group:",t.t0),x("Error updating group: ".concat(t.t0.message),"error");case 18:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e,r){return t.apply(this,arguments)}}(),C=function(){var t=ye(fe().mark((function t(e,r,n){var i,c,s,u,l;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=o.findIndex((function(t){return t.id===e})),-1!==i){t.next=4;break}return t.abrupt("return");case 4:return c=o[i],(s=he(c.tabs))[r]=n,u=be(be({},c),{},{tabs:s}),(l=he(o))[i]=u,a(l),t.next=13,k.updateTabGroup(e,{tabs:s});case 13:x("Tab updated!","success"),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),console.error("Error updating tab:",t.t0),x("Error updating tab: ".concat(t.t0.message),"error");case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e,r,n){return t.apply(this,arguments)}}(),A=function(){var t=ye(fe().mark((function t(e,r,n){var i,c,s,u,l,p,f,h;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i=o.findIndex((function(t){return t.id===e})),-1!==i){t.next=4;break}return t.abrupt("return");case 4:return c=o[i],s=he(c.tabs),u=s.splice(r,1),l=_e(u,1),p=l[0],s.splice(n,0,p),f=be(be({},c),{},{tabs:s}),(h=he(o))[i]=f,a(h),t.next=14,k.updateTabGroup(e,{tabs:s});case 14:x("Tab order updated!","success"),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),console.error("Error reordering tabs:",t.t0),x("Error updating tab order: ".concat(t.t0.message),"error");case 21:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e,r,n){return t.apply(this,arguments)}}(),I=function(){var t=ye(fe().mark((function t(e,r){var n,i,c,s,u,l;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),null===h||h===r){t.next=24;break}for(t.prev=2,n=he(o),i=n.splice(h,1),c=_e(i,1),s=c[0],n.splice(r,0,s),a(n),u=[],l=0;l<n.length;l++)u.push(k.updateTabGroup(n[l].id,{orderIndex:l}));return t.next=11,Promise.all(u);case 11:x("Group order updated!","success"),t.next=20;break;case 14:return t.prev=14,t.t0=t.catch(2),console.error("Error reordering groups:",t.t0),setMessage({type:"error",text:"Error updating group order: ".concat(t.t0.message)}),t.next=20,E();case 20:return t.prev=20,d(null),m(null),t.finish(20);case 24:case"end":return t.stop()}}),t,null,[[2,14,20,24]])})));return function(e,r){return t.apply(this,arguments)}}(),F=function(){d(null),m(null)},D=function(){var t=ye(fe().mark((function t(e){var r,n,o;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.groups){t.next=21;break}r=de(e.groups),t.prev=3,r.s();case 5:if((n=r.n()).done){t.next=11;break}return o=n.value,t.next=9,k.saveTabGroup(o);case 9:t.next=5;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:t.next=24;break;case 21:if(!e.tabs){t.next=24;break}return t.next=24,k.saveTabGroup(e);case 24:return t.next=26,E();case 26:t.next=32;break;case 28:t.prev=28,t.t1=t.catch(0),console.error("Error processing import:",t.t1),setMessage({type:"error",text:"Error processing import: ".concat(t.t1.message)});case 32:case"end":return t.stop()}}),t,null,[[0,28],[3,13,16,19]])})));return function(e){return t.apply(this,arguments)}}(),G=function(){var t=ye(fe().mark((function t(e){return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{chrome.runtime.sendMessage({action:"setOptions",options:e},(function(t){t&&t.success?(_(e),setMessage({type:"success",text:"Settings saved!"}),setTimeout((function(){return setMessage(null)}),2e3)):setMessage({type:"error",text:(null==t?void 0:t.error)||"Error saving settings"})}))}catch(t){console.error("Error saving settings:",t),setMessage({type:"error",text:"Error saving settings: ".concat(t.message)})}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return g("div",{className:"options-container"},g("header",{className:"app-header"},g("h1",null,"TabLocker"),g("div",{className:"app-subtitle"},"Secure Tab Management")),g("nav",{className:"app-nav"},g("ul",{className:"nav-tabs"},g("li",{className:"tabs"===e?"active":"",onClick:function(){return r("tabs")}},g(je,{name:"database"})," Saved Tabs"),g("li",{className:"export-import"===e?"active":"",onClick:function(){return r("export-import")}},g(je,{name:"share"})," Export/Import"),g("li",{className:"settings"===e?"active":"",onClick:function(){return r("settings")}},g(je,{name:"settings"})," Settings"))),g("main",{className:"app-content"},"tabs"===e&&g("div",{className:"tabs-container"},g(Se,{onSearch:function(t){p(t),s(!0),E().finally((function(){s(!1)}))}}),c?g("div",{className:"loading"},"Loading..."):0===o.length?g("div",{className:"empty-state"},g("p",null,"No saved tabs found."),l&&g("p",null,"Try a different search query.")):g("div",{className:"tab-groups-list"},o.map((function(t,e){return g("div",{key:t.id,className:"group-container ".concat(h===e?"group-dragging":""," ").concat(y===e?"group-drag-over":""),draggable:o.every((function(t){return!t.isEditing})),onDragStart:function(){return function(t){o.some((function(t){return t.isEditing}))||d(t)}(e)},onDragOver:function(t){return function(t,e){t.preventDefault(),null!==h&&h!==e&&m(e)}(t,e)},onDrop:function(t){return I(t,e)},onDragEnd:F},g(Le,{key:t.id,group:t,onRestore:O,onDelete:T,onRestoreTab:j,onReorderTabs:A,onUpdateGroup:P,onUpdateTab:C}))})))),"export-import"===e&&g(Ne,{onImport:D,showToast:x}),"settings"===e&&g(Oe,{settings:w,onSaveSettings:G})),g("footer",{className:"app-footer"},g("div",{className:"footer-info"},g("span",null,"TabLocker"),g("span",{className:"separator"},"|"),g("span",{className:"privacy-note"},"100% Private & Encrypted"),g("span",{className:"separator"},"|"),g("a",{href:"https://github.com/your-username/tablocker",target:"_blank",rel:"noopener noreferrer"},"GitHub"))))}),null),document.getElementById("app"))})()})();